(function(){var p,aa=this;
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function ca(a){return"string"==typeof a}function da(a){return"function"==ba(a)}function ea(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ka(a,b,c){ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return ka.apply(null,arguments)}
function q(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function r(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function la(a){var b=ma,c;for(c in b)a.call(void 0,b[c],c,b)}var na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<na.length;f++)c=na[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var pa=function(){return this}();q("H.lang.inherits",r);q("H.lang.extend",oa);var s=ka;q("H.lang.bind",s);var qa=String;function ra(a){return eval(""+a)}var t=ra(),sa=ra(null);function ta(a,b){return qa(a).split(b!==t?b:" ")}q("H.lang.tokenize",ta);var ua="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u(a,b,c,d){if(!(b=a instanceof b)&&c)throw new y(c,d,void 0!==t?void 0:a);return b}function va(a,b){return u(a,b)&&a.constructor===b}
function wa(a,b){if(!0===va(a,b))throw new TypeError("Illegal constructor "+xa(b));}function za(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function Aa(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function Ba(a,b,c,d,e){if(!(b=Ca(a)===b)&&c)throw new y(c,d,e!==t?e:a);return b}var Da=parseFloat,z=isNaN;function Ea(a){return a===+a}function Fa(a){return!z(+a)}
function Ca(a){var b=Object[ua[0]][ua[6]].call(a).match(/^\[object (\w+)\]$/);return b?b[1]:typeof a}function xa(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:pa.H},c="",d=[]);Ga(b,!0,function(b,f){var k=b[f];f=Ha(b,k);var l;if(l=!(za(k)&&k.window===k&&k.self===k))l=!(za(k)&&0<k.nodeType&&da(k.cloneNode));if(l&&za(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=xa(a,k,c+"."+f,d)))return!0}});f&&(e=e?e.substr(1).replace("."+ua[0]+".","#"):"~"+(da(a)?Ia(a)+"()":Ca(a)));return e}
function Ha(a,b){var c=[];Ga(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Ja)[0]}function Ja(a,b){return b.length-a.length}function Ga(a,b,c){var d,e;if(a){for(d in a)if((!b||a[ua[2]](d))&&c(a,d,!0))return;for(e=ua.length;e--&&(d=ua[e],b&&!a[ua[2]](d)||!c(a,d,!1)););}}q("H.lang.forEachProp",Ga);function Ia(a){return(a=/^\s*function ([^\( ]+)/.exec(a))?a[1]:"anonymous"}function Ka(a,b,c){c[b]="#"+b};var La=/^\s*(rgb|hsl)a\s*\(.+,([^,]+)\)\s*$/;function Ma(a){return"transparent"!==a&&"none"!==a&&(!La.test(a)||0.002<=pa.RegExp.$2)}var Na=!!pa.VBArray;q("H.util.getSuperProto",function(a){return a.a});q("H.util.eval",function(a){return eval(a)});q("H.util.getValue",function(a,b){return a!==t?a:b});function Oa(a){return/^<svg/.test(a)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a):a}q("H.util.svgToDataUrl",Oa);var Pa=0;function Qa(){return!1}function Ra(){}var Sa=[];
function Ta(a){return"CANVAS"===a.tagName?[a]:a.getElementsByTagName("CANVAS")}function Ua(a,b,c){var d;b=a.ownerDocument===b?a.cloneNode(!0):b.importNode(a,!0);if(c)for(a=Ta(a),c=Ta(b),d=c.length;d--;)c[d].getContext("2d").drawImage(a[d],0,0);return b}q("H.util.cloneNode",Ua);function Wa(a){return a.parentNode.removeChild(a)}q("H.util.removeNode",Wa);var Xa,Ya=document.createElement("CANVAS");Ya.width=Ya.height=1;Xa=Ya.getContext("2d");
function Za(a){var b=a.complete,c=0<a.naturalWidth;if(b&&!c&&Na)try{Xa.drawImage(a,0,0),c=!0}catch(d){}return b&&c};function $a(a){var b,c,d;if(a)for(c in b=u(a,$a),a)c in this&&(d=a[c],d!==this[c]&&("fillColor"===c||0<(d=+d))&&(this[c]=d));a=b?a.Xb:Ma(this.fillColor);a||(this.Xb=a)}q("H.map.ArrowStyle",$a);$a.prototype.Xb=!0;oa($a.prototype,{fillColor:"rgba(255,255,255,.75)",width:1.2,length:1.6,frequency:5});$a.prototype.Fe=function(){return new $a(this)};
$a.prototype.F=function(a){var b=this===a;!b&&a&&(b=a.width===this.width&&a.fillColor===this.fillColor&&a.length===this.length&&a.frequency===this.frequency);return b};$a.prototype.equals=$a.prototype.F;function y(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?qa(c):"";b!==t&&(e=(e=/.*\(([^\)]+)/.exec((""+a).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?ta(e[1].replace(/\s+/g,""),","):[],e.forEach(Ka),e=e[b]||"#"+b);this.message=(a?xa(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"")}q("H.lang.InvalidArgumentError",y);y.prototype=Error();y.prototype.name="InvalidArgumentError";var ab=Math,bb=ab.random,cb=ab.min,db=ab.max,eb=ab.round,fb=ab.floor,gb=ab.ceil,hb=ab.abs,ib=ab.log,jb=ab.sqrt,kb=ab.pow,lb=ab.exp,mb=ab.sin,nb=ab.asin,ob=ab.cos,pb=ab.tan,qb=ab.atan,rb=ab.atan2,sb=ab.LN2,tb=ab.PI,ub=tb/2,vb=tb/4,wb=2*tb,xb=3*tb,yb=tb/180,zb=180/tb,Ab=kb(-2,53);function Bb(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}function Cb(a,b,c){return(a-=0)>c?c:a<b?b:a}function Db(a,b,c,d){(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}
function Eb(a,b,c,d,e,f){return jb(kb((a-e)*(d-f)-(b-f)*(c-e),2)/(kb(c-e,2)+kb(d-f,2)))}
function Fb(a,b,c,d,e){for(var f=c.length,g=f,h,k,l,m=c[0],n=0,v=0,x=0,w=d/2||0,K=e?1:3;1!=n&&g>K;){h=c[--g];d=c[--g];l=c[g?g-1:(f+(g-1))%f];k=c[g?g-2:(f+(g-2))%f];if(d>=a-w&&d<=a+w&&h>=b-w&&h<=b+w||k>=a-w&&k<=a+w&&l>=b-w&&l<=b+w)n=1;else if(!n&&d===a)k===a&&(h<b&&l>b||h>b&&l<b)||(m<=a&&k>a||m>=a&&k<a)&&(h>=b?++v:++x),n=Db(b,h,l,w)&&Eb(a,b,d,h,k,l)<=w?2:0;else if(!n&&Db(a,d,k,w)){if(d<a&&k>a||d>a&&k<a)m=h+(a-d)/(k-d)*(l-h),v+=m>b,x+=m<b;n=Db(b,h,l,w)&&Eb(a,b,d,h,k,l)<=w?2:0}m=d}return e&&3===n&&n||
n?n:e&&0!==x&&0!==v%2?3:0};var Gb={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};q("H.geo.AltitudeContext",Gb);function Hb(a,b,c){var d=Cb(+a,-90,90);if(b&&z(d))throw new y(b,c,a);return d}function Ib(a,b,c){var d=+a;if(-180>d||180<d)d=Bb(d+180,360)-180;if(b&&z(d))throw new y(b,c,a);return d}function Jb(a,b,c){var d;if(a!==t&&z(d=+a)&&b)throw new y(b,c,a);return d}function Kb(a,b,c){var d=!Gb[a];if(b&&d)throw new y(b,c,a);return!d}function Lb(a){return!a||z(a.lat)||z(a.lng)?!1:!0};function A(a,b,c,d){this.lat=Hb(a,A,0);this.lng=Ib(b,A,1);c!==t&&(this.alt=Jb(c,A,2));d!==t&&Kb(d,A,3)&&(this.ctx=d)}q("H.geo.Point",A);A.prototype.F=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Gb[this.ctx]===Gb[a.ctx]&&(this.alt||0)===(a.alt||0)};A.prototype.equals=A.prototype.F;
A.prototype.distance=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*yb,c=a.lat*yb,a=1.274200158E7*nb(cb(1,jb(kb(mb((b-c)/2),2)+ob(b)*ob(c)*kb(mb((this.lng*yb-a.lng*yb)/2),2)))));return a};A.prototype.distance=A.prototype.distance;
A.prototype.If=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=yb;d=yb*this.lat;f=mb(d);g=mb(b);h=ob(b);e=yb*this.lng;var l=ob(d);d=nb(l*ob(a)*g+f*h);a=rb(mb(a)*l*g,h-f*mb(d));l=((e+a+tb)%(2*tb)-tb)*zb}return b?new A(d*zb,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*wb*ob(this.lat*yb))*(270===a?-360:360),new A(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=yb,e=this.lat*yb,f=this.lng*yb,g=e+b*ob(a),h=g-e,d=ib(pb(g/2+vb)/pb(e/2+vb)),d=z(h/d)?ob(e):
h/d,k=b*mb(a)/d,hb(g)>ub&&(g=0<g?tb-g:-(tb+g));return b?new A(g*zb,((f+k+xb+(hb(e+h)>ub?tb:0))%wb-tb)*zb):this};A.prototype.walk=A.prototype.If;function Mb(a,b,c){var d=!!a&&!(z(a.lat=Hb(a.lat))||z(a.lng=Ib(a.lng))||a.alt!==t&&z(a.alt=Jb(a.alt))||a.ctx!==t&&!Kb(a.ctx));if(!d&&b)throw new y(b,c,a);return d}A.validate=Mb;function Nb(a){if(!a)throw new y(Nb,0,a);return u(a,A)?a:new A(a.lat,a.lng,a.alt,a.ctx)}A.fromIPoint=Nb;function B(a,b,c,d){Ob(this,Hb(a,B,0),Ib(b,B,1),Hb(c,B,2),Ib(d,B,3))}q("H.geo.Rect",B);B.prototype.F=function(a){return this===a||!!a&&this.s===a.s&&this.j===a.j&&this.r===a.r&&this.n===a.n};B.prototype.equals=B.prototype.F;function Ob(a,b,c,d,e){a.j=c;a.n=e;b<d&&(c=b,b=d,d=c);a.s=b;a.r=d;a.Uc=a.pc=a.Wa=null;return a}B.prototype.gb=function(){this.Uc||(this.Uc=new A(this.s,this.j));return this.Uc};B.prototype.getTopLeft=B.prototype.gb;
B.prototype.$a=function(){this.pc||(this.pc=new A(this.r,this.n));return this.pc};B.prototype.getBottomRight=B.prototype.$a;B.prototype.bj=function(){return this.s};B.prototype.getTop=B.prototype.bj;B.prototype.Gi=function(){return this.r};B.prototype.getBottom=B.prototype.Gi;B.prototype.Ri=function(){return this.j};B.prototype.getLeft=B.prototype.Ri;B.prototype.aj=function(){return this.n};B.prototype.getRight=B.prototype.aj;
B.prototype.T=function(){this.Wa||(this.Wa=new A(this.r+(this.s-this.r)/2,Pb(this.j,this.U())));return this.Wa};B.prototype.getCenter=B.prototype.T;B.prototype.U=function(){return Qb(this.j,this.n)};B.prototype.getWidth=B.prototype.U;B.prototype.Sb=function(){return this.s-this.r};B.prototype.getHeight=B.prototype.Sb;B.prototype.Vb=function(){return this.j>this.n};B.prototype.isCDB=B.prototype.Vb;B.prototype.Pg=function(){return!this.U()&&!this.Sb()};B.prototype.isEmpty=B.prototype.Pg;
B.prototype.hd=function(a,b,c){var d=this.T();c||(a=Hb(a,this.hd,0),b=Ib(b,this.hd,1));b=this.La(a,b,c);a=b.T();return a.lat===d.lat&&a.lng===d.lng&&this.Sb()===b.Sb()&&this.U()===b.U()};B.prototype.containsLatLng=B.prototype.hd;B.prototype.qe=function(a,b){b||Mb(a,this.qe,0);return this.hd(a.lat,a.lng,b)};B.prototype.containsPoint=B.prototype.qe;
B.prototype.re=function(a,b){var c=this.T(),d,e;if(!b&&!u(a,B))throw new y(this.re,0,a);e=this.lb(a,b);d=e.T();return d.lat===c.lat&&d.lng===c.lng&&this.Sb()===e.Sb()&&this.U()===e.U()};B.prototype.containsRect=B.prototype.re;B.prototype.La=function(a,b,c,d){if(!c){if(z(a=Hb(a)))throw new y(this.La,0,a);if(z(b=Ib(b)))throw new y(this.La,1,b);}return Rb(this.s,this.j,this.r,this.n,a,b,a,b,d)};B.prototype.mergeLatLng=B.prototype.La;
B.prototype.Xe=function(a,b,c){b||Mb(a,this.Xe,0);return this.La(a.lat,a.lng,b,c)};B.prototype.mergePoint=B.prototype.Xe;B.prototype.lb=function(a,b,c){if(!b&&!u(a,B))throw new y(this.lb,0,a);return Rb(this.s,this.j,this.r,this.n,a.s,a.j,a.r,a.n,c)};B.prototype.mergeRect=B.prototype.lb;B.prototype.mb=function(a,b,c,d,e,f){e||(a=Hb(a,this.mb,0),b=Ib(b,this.mb,1),c=Hb(c,this.mb,2),d=Ib(d,this.mb,3));return Rb(this.s,this.j,this.r,this.n,a,b,c,d,f)};B.prototype.mergeTopLeftBottomRight=B.prototype.mb;
B.prototype.Mg=function(a,b){if(!b&&!u(a,B))throw new y(this.Mg,0,a);var c=this.j<=this.n,d=a.j<=a.n,e=this.j<a.n,f=a.j<this.n;return this.r<=a.s&&a.r<=this.s&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};B.prototype.intersects=B.prototype.Mg;function Qb(a,b){var c=b-a;return c+(0>c?360:0)}function Pb(a,b){var c=a+b/2;return c-(180<c?360:0)}
function Rb(a,b,c,d,e,f,g,h,k){var l,m,n;c=cb(c,g);a=db(a,e);e=Qb(b,d);l=Pb(b,e);g=Qb(f,h);n=Pb(f,g)-l;n+=0>n-1E-6?360:0;180>n-1E-6?(l=b,m=h):(n=360-n,l=f,m=d);n=n+e/2+g/2;360<=n+5E-7?(l=-180,m=180):n-5E-7<e?(l=b,m=d):n-5E-7<g&&(l=f,m=h);return k?Ob(k,a,l,c,m):new B(a,l,c,m)}B.merge=Rb;function Sb(a,b,c){c||(Mb(a,Sb,0),Mb(b,Sb,1));return new B(a.lat,a.lng,b.lat,b.lng)}B.fromPoints=Sb;
function Tb(a,b){if(!Aa(a))throw new y(Tb,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=Sb(e,e,b);c<d;c++)e=a[c],f.La(e.lat,e.lng,b,f);return f}B.coverPoints=Tb;function Ub(a,b){if(!(b||a&&null!=a.length))throw new y(Ub,0,a);var c=3,d=a.length,e;if(0<d)for(e=new B(a[0],a[1],a[0],a[1]);c<d;c+=3)e.La(a[c],a[c+1],b,e);return e}B.coverLatLngAlts=Ub;
function Vb(a,b){if(b&&(!a||null==a.length))throw new y(Vb,0,a);var c=1,d=a.length,e;if(0<d)for(e=new B(a[0].s,a[0].j,a[0].r,a[0].n);c<d;c++)e.lb(a[c],b,e);return e}B.coverRects=Vb;B.prototype.Ih=function(a,b){Mb(a,this.Ih,0);var c=this.j,d=this.s,e=this.n,f=this.r,g=this.T().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?Ob(b,d,c,f,e):new B(d,c,f,e)};
B.prototype.resizeToCenter=B.prototype.Ih;function C(a,b){a&&Wb(a,C,0);this.I=null;this.C=a||[];this.Xa=b;this.na=Xb(this,0,this.C.length)}q("H.geo.Strip",C);function Xb(a,b,c){a=a.C;var d=0;b=db(b,0);c=cb(c,a.length);c-=2;for(b+=1;b<c;)d+=Yb(a[b],a[b+=3]);return d}C.prototype.xf=function(a,b,c){Zb(this,a,b,c,this.xf)};C.prototype.pushLatLngAlt=C.prototype.xf;function Zb(a,b,c,d,e){var f=a.C.length;b=Hb(b,e);c=Ib(c,e);a.C.push(Hb(b,e),Ib(c,e),d===t?0:Jb(d,e));f&&(a.na+=Yb(a.C[f-2],c));a.I=null}
C.prototype.Ud=function(a,b,c){c&&Wb(c,this.Ud,2);var d;b&&(this.na-=Xb(this,a-3,a+b+3));d=c?this.C.splice.apply(this.C,[a,b].concat(c)):this.C.splice(a,b);c&&(this.na+=Xb(this,a-3,a+c.length+3));b&&!c&&(this.na+=Xb(this,a-3,a-3));this.I=null;return d};C.prototype.spliceLatLngAlts=C.prototype.Ud;C.prototype.Kg=function(a,b,c,d){this.Ud(a,0,[b,c,d])};C.prototype.insertLatLngAlt=C.prototype.Kg;C.prototype.Bh=function(a){this.Ud(a,3)};C.prototype.removeLatLngAlt=C.prototype.Bh;
C.prototype.yf=function(a){Zb(this,a.lat,a.lng,a.alt,this.yf)};C.prototype.pushPoint=C.prototype.yf;C.prototype.wd=function(a,b){this.Kg(3*a,b.lat,b.lng,b.alt)};C.prototype.insertPoint=C.prototype.wd;C.prototype.Kj=function(a){this.Bh(3*a)};C.prototype.removePoint=C.prototype.Kj;C.prototype.Ce=function(a,b){var c=this.C,d=3*a,e=c[d],f=c[d+1],c=c[d+2];b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.Xa&&(b.ctx=this.Xa));return b||new A(e,f,c,null!=c?this.Xa:void 0)};C.prototype.extractPoint=C.prototype.Ce;
C.prototype.mg=function(a,b,c){var d=this.C;b=b||0;for(c=c||d.length;b<c;b+=3)a(d[b],d[b+1],d[2],b/3)};C.prototype.eachLatLngAlt=C.prototype.mg;C.prototype.nd=function(a){var b=this.na;a&&(a=this.C,b+=Yb(a[a.length-2],a[1]));return b};C.prototype.getDBCs=C.prototype.nd;C.prototype.Dg=function(){return this.C.length/3};C.prototype.getPointCount=C.prototype.Dg;C.prototype.Pi=function(){return this.C};C.prototype.getLatLngAltArray=C.prototype.Pi;
C.prototype.o=function(){var a;if(!(a=this.I)){a=this.C;var b=a.length,c=3,d,e,f,g,h,k=null,l=Rb;if(3<=b)for(d=e=a[0],f=g=a[1],k=new B(d,f,e,g);c<b;c+=3){d=a[c-3];f=a[c-2];e=a[c];g=a[c+1];if(f>g&&180<g-f||f<g&&-180>f-g||g<f&&180>hb(g-f))h=f,f=g,g=h;d<e&&(h=d,d=e,e=h);l(k.s,k.j,k.r,k.n,d,f,e,g,k)}a=this.I=k}return a};C.prototype.getBounds=C.prototype.o;C.prototype.gj=function(){return null!==this.I};C.prototype.hasBounds=C.prototype.gj;
function Wb(a,b,c){for(var d=a.length,e=!(d%3),f;e&&d;)e=!(z(a[--d]=Jb((f=a[d])===t?0:f))||z(a[--d]=Ib(a[d]))||z(a[--d]=Hb(a[d])));if(!e&&b)throw new y(b,c,a);}function Yb(a,b){return 0>a/b&&180<hb(b-a)}C.isDBC=Yb;function $b(a){var b=new C,c=0,d=a.length;if(d%2)throw new y($b,0,a);for(;c<d;)Zb(b,a[c++],a[c++],0,$b);return b}C.fromLatLngArray=$b;function ac(a,b,c,d,e){this.ti=a||10;this.hb=this.uc=this.Kh=null;this.cg=d||0;this.dg=e||0;this.xh=b||1;this.yh=c||1;this.flush()}function bc(a,b){for(var c,d,e,f,g,h,k,l=0,m,n,v=4,x;v--;){x=v+4;g=[];c=+!(v%3);h=b[v];for(m=(d=a[v]).length;m--;){e=d[m];if(f=e.d)for(n=f.length;n--;)((k=f[n][v])>h)-c&&(h=k);for(n=4;n--;)if(f=e[n])c?f[x]<h&&g.push(f):f[x]>h&&g.push(f)}l+=g.length;b[v]=h;a[v]=g}l&&(b=bc(a,b));return b}
ac.prototype.flush=function(){this.hb=this.Kh=new cc(null,0,this.cg-this.xh,this.dg-this.yh,this.cg+this.xh,this.dg+this.yh);this.uc=null};ac.prototype.remove=function(a){var b,c=a.vh,d=c.d;if(d&&(b=d.indexOf(a),-1!==b&&(d.splice(b,1),!d.length))){delete c.d;for(var e=this.hb;(d=c.Id)&&!(c.d||c[0]||c[1]||c[2]||c[3]);)c===e&&(e=d),delete c.Id,delete d[c.Zh],c=d;this.hb=e;dc(this)}(b=0<=b)&&ec(this,a,!1);return b};
function ec(a,b,c){var d,e;if(d=a.uc)for(e=4;e--;)if(e%3?b[e]>=d[e]:b[e]<=d[e])if(c)d[e]=b[e];else{a.uc=null;break}}ac.prototype.ib=function(a,b,c,d,e,f){var g=a[8],h=a[9];f&&(d<g||d<a[5]&&b>=g)&&(e<h||e<a[6]&&c>=h)?b=this.ib(fc(a,(c>=h?2:0)|b>=g),b,c,d,e,f-1):(b=new gc(a,b,c,d,e),(a.d||(a.d=[])).push(b),ec(this,b,!0),dc(this,a));return b};
function dc(a,b){var c=a.hb,d;if(b){if(d=b,d!==c)for(c=d;d=d.Id;)if(d.d||3>!d[0]+!d[1]+!d[2]+!d[3])c=d}else for(;!c.d&&2< !c[0]+!c[1]+!c[2]+!c[3];)if(d=c[0]||c[1]||c[2]||c[3])c=d;else break;a.hb=c}ac.prototype.V=function(a,b,c,d){var e=[];hc(this,this.hb,e,a,b,c,d);return e};
function hc(a,b,c,d,e,f,g){var h,k,l=b.d;k=b[7];var m=b[8],n=b[5],v=b[4],x=b[9],w=b[6],K;if(l)if(h=l.length,d>k||f<n||e>v||g<w)for(;h--;)k=l[h],n=k[3],v=k[0],w=k[1],K=k[2],n>f||w<d||v>g||K<e||c.push(k);else for(;h--;)c.push(l[h]);f>=m&&(e<=x&&b[1]&&hc(a,b[1],c,d,e,f,g),g>=x&&b[3]&&hc(a,b[3],c,d,e,f,g));d<=m&&(e<=x&&b[0]&&hc(a,b[0],c,d,e,f,g),g>=x&&b[2]&&hc(a,b[2],c,d,e,f,g))}
function cc(a,b,c,d,e,f){a?(this.Id=a,this.Zh=b,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9])):this.Zh=this.Id=null;this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}function fc(a,b){return a[b]||(a[b]=new cc(a,b))}function gc(a,b,c,d,e){this.id=++ic;this.vh=a;this[0]=c;this[1]=d;this[2]=e;this[3]=b}var ic=0;function jc(a){this.$d=new ac(+a||10,180,90,0,0);this.fd=[];this.Oe=!1;this.Va=this.Ab=this.I=null}p=jc.prototype;p.Nb=0;p.Vb=function(){return this.Oe};
p.o=function(){var a,b,c;if(!this.I){c=[];var d;if(d=!this.Ab){a=this.$d;var e;!(e=a.uc)&&(d=a.hb,d.d||d[0]||d[1]||d[2]||d[3])&&(e=[d],e=bc([e,e,e,e],[d[6],d[7],d[4],d[5]]),a.uc=e);d=a=e}d&&(this.Ab=new B(-a[0],a[3],-a[2],a[1]));(b=this.Ab)&&c.push(b);var f,g,h,k;if(!this.Va&&(k=(g=this.fd).length)){a=90;d=360;e=-90;for(f=0;k--;)h=g[k],a=cb(a,h[0]),d=cb(d,h[3]),e=db(e,h[2]),f=db(f,h[1]);this.Va=new B(-a,d,-e,f-360)}(b=this.Va)&&c.push(b);if(b=c[0])c[1]&&(b=b.lb(c[1],!0)),this.I=b}return this.I};
p.ib=function(a,b,c,d,e){e?(e=new gc(null,d,-a,b+360,-c),this.fd.push(e),this.Oe=!0,this.Va&&this.Va.mb(a,b,c,d,!0,this.Va)):(e=this.$d,e=e.ib(e.Kh,b,-a,d,-c,e.ti),this.Ab&&this.Ab.mb(a,b,c,d,!0,this.Ab));++this.Nb;this.I=null;return e};p.wd=function(a){var b=a.lng;a=a.lat;return this.ib(a,b,a,b,!1)};p.remove=function(a){var b,c=!1;if(a.vh)c=this.$d.remove(a),this.Ab=null;else if(a=(b=this.fd).indexOf(a),c=0<=a)b.splice(a,1),this.Oe=0<b.length,this.Va=null;c&&(--this.Nb,this.I=null);return c};
function kc(a,b,c,d,e){a=a.fd;var f=a.length,g,h=[],k,l;if(f)for(k=c+360,l=e+360;f--;)g=a[f],lc(g,b,c,d,e)?h.push(g):lc(g,b,k,d,l)&&h.push(g);return h}function lc(a,b,c,d,e){var f=a[0],g=a[1],h=a[2];return!(a[3]>e||g<c||f>d||h<b)}function mc(a,b){var c,d,e,f;if(d=b.length){c=a.length;for(e={};c--;)e[a[c].id]=1;for(;d--;)(f=b[d]).id in e||a.push(f)}}
function nc(a,b){var c=a.$d,d=b.gb(),e=b.$a(),f=-d.lat,d=d.lng,g=-e.lat,e=e.lng,h;b.Vb()?(h=c.V(-180,f,e,g),mc(h,c.V(d,f,180,g)),mc(h,kc(a,f,e,g,d+360))):(h=c.V(d,f,e,g),mc(h,kc(a,f,d,g,e)));return h};function D(){}q("H.map.provider.Invalidations",D);D.MARK_INITIAL=Ab;D.prototype.update=function(a,b){b!==oc&&(this.Hb=a,b&pc&&(this.Xh=a),b&qc&&(this.ci=a),b&rc&&(this.Xf=a),b&sc&&(this.Ch=a),b&tc&&(this.hi=a))};D.prototype.update=D.prototype.update;D.prototype.Ti=function(){return this.Hb};D.prototype.getMark=D.prototype.Ti;D.prototype.Hb=Ab;D.prototype.Ne=function(a){return this.Hb>a};D.prototype.isAny=D.prototype.Ne;D.prototype.ci=Ab;D.prototype.Bc=function(a){return this.ci>a};
D.prototype.isVisual=D.prototype.Bc;D.prototype.Xh=Ab;D.prototype.yd=function(a){return this.Xh>a};D.prototype.isSpatial=D.prototype.yd;D.prototype.Xf=Ab;D.prototype.Ng=function(a){return this.Xf>a};D.prototype.isAdd=D.prototype.Ng;D.prototype.Ch=Ab;D.prototype.Rg=function(a){return this.Ch>a};D.prototype.isRemove=D.prototype.Rg;D.prototype.hi=Ab;D.prototype.Se=function(a){return this.hi>a};D.prototype.isZOrder=D.prototype.Se;var oc=0,qc=1,pc=2,rc=4,sc=8,tc=16;
D.Flag={NONE:oc,jk:qc,ik:pc,Db:rc,Eb:sc,kk:tc};function uc(){0!=vc&&(wc[ea(this)]=this)}var vc=0,wc={};uc.prototype.kg=!1;uc.prototype.g=function(){if(!this.kg&&(this.kg=!0,this.c(),0!=vc)){var a=ea(this);delete wc[a]}};uc.prototype.Gb=function(a,b){this.Ic||(this.Ic=[]);this.Ic.push(ka(a,b))};uc.prototype.c=function(){if(this.Ic)for(;this.Ic.length;)this.Ic.shift()()};function xc(a,b){this.type=a;this.currentTarget=this.target=b}p=xc.prototype;p.c=function(){};p.g=function(){};p.sb=!1;p.defaultPrevented=!1;p.Pd=!0;p.stopPropagation=function(){this.sb=!0};p.preventDefault=function(){this.defaultPrevented=!0;this.Pd=!1};q("H.util.Event",xc);xc.prototype.stopPropagation=xc.prototype.stopPropagation;xc.prototype.stopPropagation=xc.prototype.stopPropagation;xc.prototype.CAPTURING_PHASE=1;xc.prototype.AT_TARGET=2;xc.prototype.BUBBLING_PHASE=3;xc.prototype.eventPhase=0;function yc(a,b,c){yc.a.constructor.call(this,a);this.oldValue=c;this.newValue=b}r(yc,xc);q("H.util.ChangeEvent",yc);function zc(a,b){var c=[];a&&c.push(xa(a));1<arguments.length&&c.push(b);this.message=c.join(" ")}r(zc,Error);q("H.lang.IllegalOperationError",zc);zc.prototype=Error();zc.prototype.name="IllegalOperationError";function Ac(a,b){return a<b?-1:a>b?1:0};var Bc=0;function Cc(){}p=Cc.prototype;p.key=0;p.tb=!1;p.dd=!1;p.vd=function(a,b,c,d,e,f){if(da(a))this.Qg=!0;else if(a&&a.handleEvent&&da(a.handleEvent))this.Qg=!1;else throw Error("Invalid listener argument");this.Ka=a;this.th=b;this.src=c;this.type=d;this.N=!!e;this.Le=f;this.dd=!1;this.key=++Bc;this.tb=!1};p.handleEvent=function(a){return this.Qg?this.Ka.call(this.Le||this.src,a):this.Ka.handleEvent.call(this.Ka,a)};var Dc,Ec,Fc,Gc;function Hc(){return aa.navigator?aa.navigator.userAgent:null}Gc=Fc=Ec=Dc=!1;var Ic;if(Ic=Hc()){var Jc=aa.navigator;Dc=0==Ic.indexOf("Opera");Ec=!Dc&&-1!=Ic.indexOf("MSIE");Fc=!Dc&&-1!=Ic.indexOf("WebKit");Gc=!Dc&&!Fc&&"Gecko"==Jc.product}var Kc=Dc,Lc=Ec,Mc=Gc,Nc=Fc;function Oc(){var a=aa.document;return a?a.documentMode:void 0}var Pc;
a:{var Qc="",Rc;if(Kc&&aa.opera)var Sc=aa.opera.version,Qc="function"==typeof Sc?Sc():Sc;else if(Mc?Rc=/rv\:([^\);]+)(\)|;)/:Lc?Rc=/MSIE\s+([^\);]+)(\)|;)/:Nc&&(Rc=/WebKit\/(\S+)/),Rc)var Tc=Rc.exec(Hc()),Qc=Tc?Tc[1]:"";if(Lc){var Uc=Oc();if(Uc>parseFloat(Qc)){Pc=String(Uc);break a}}Pc=Qc}var Vc={};
function Wc(a){var b;if(!(b=Vc[a])){b=0;for(var c=String(Pc).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var m=k.exec(g)||["","",""],n=l.exec(h)||["","",""];if(0==m[0].length&&0==n[0].length)break;b=Ac(0==m[1].length?0:parseInt(m[1],10),0==n[1].length?0:parseInt(n[1],10))||Ac(0==m[2].length,0==n[2].length)||Ac(m[2],n[2])}while(0==
b)}b=Vc[a]=0<=b}return b}var Xc=aa.document,Yc=Xc&&Lc?Oc()||("CSS1Compat"==Xc.compatMode?parseInt(Pc,10):5):void 0;var Zc;(Zc=!Lc)||(Zc=Lc&&9<=Yc);var $c=Zc,ad=Lc&&!Wc("9");!Nc||Wc("528");Mc&&Wc("1.9b")||Lc&&Wc("8")||Kc&&Wc("9.5")||Nc&&Wc("528");Mc&&!Wc("8")||Lc&&Wc("9");var bd=Array.prototype,cd=bd.indexOf?function(a,b,c){return bd.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ca(a))return ca(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function dd(a){dd[" "](a);return a}dd[" "]=function(){};function ed(a,b){a&&this.vd(a,b)}r(ed,xc);p=ed.prototype;p.target=null;p.relatedTarget=null;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=!1;p.altKey=!1;p.shiftKey=!1;p.metaKey=!1;p.tc=null;
p.vd=function(a,b){var c=this.type=a.type;xc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Mc){var e;a:{try{dd(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Nc||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Nc||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.tc=a;a.defaultPrevented&&this.preventDefault();delete this.sb};p.stopPropagation=function(){ed.a.stopPropagation.call(this);this.tc.stopPropagation?this.tc.stopPropagation():this.tc.cancelBubble=!0};
p.preventDefault=function(){ed.a.preventDefault.call(this);var a=this.tc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ad)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};p.c=function(){};var ma={},fd={},gd={},hd={};function id(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)id(a,b[f],c,d,e);return null}a=jd(a,b,c,!1,d,e);b=a.key;ma[b]=a;return b}
function jd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=fd;b in g||(g[b]={aa:0,K:0});g=g[b];e in g||(g[e]={aa:0,K:0},g.aa++);var g=g[e],h=ea(a),k;g.K++;if(g[h]){k=g[h];for(var l=0;l<k.length;l++)if(g=k[l],g.Ka==c&&g.Le==f){if(g.tb)break;d||(k[l].dd=!1);return k[l]}}else k=g[h]=[],g.aa++;l=kd();g=new Cc;g.vd(c,l,a,b,e,f);g.dd=d;l.src=a;l.Ka=g;k.push(g);gd[h]||(gd[h]=[]);gd[h].push(g);a.addEventListener?a!=aa&&a.customEvent_||a.addEventListener(b,l,e):a.attachEvent(b in hd?hd[b]:
hd[b]="on"+b,l);return g}function kd(){var a=ld,b=$c?function(c){return a.call(b.src,b.Ka,c)}:function(c){c=a.call(b.src,b.Ka,c);if(!c)return c};return b}function md(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)md(a,b[f],c,d,e);return null}a=jd(a,b,c,!0,d,e);b=a.key;ma[b]=a;return b}
function nd(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)nd(a,b[f],c,d,e);return null}d=!!d;a:{f=fd;if(b in f&&(f=f[b],d in f&&(f=f[d],a=ea(a),f[a]))){a=f[a];break a}a=null}if(!a)return!1;for(f=0;f<a.length;f++)if(a[f].Ka==c&&a[f].N==d&&a[f].Le==e)return od(a[f].key);return!1}
function od(a){var b=ma[a];if(!b||b.tb)return!1;var c=b.src,d=b.type,e=b.th,f=b.N;c.removeEventListener?c!=aa&&c.customEvent_||c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in hd?hd[d]:hd[d]="on"+d,e);c=ea(c);if(gd[c]){var e=gd[c],g=cd(e,b);0<=g&&bd.splice.call(e,g,1);0==e.length&&delete gd[c]}b.tb=!0;if(b=fd[d][f][c])b.hh=!0,pd(d,f,c,b);delete ma[a];return!0}
function pd(a,b,c,d){if(!d.zd&&d.hh){for(var e=0,f=0;e<d.length;e++)d[e].tb?d[e].th.src=null:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.hh=!1;0==f&&(delete fd[a][b][c],fd[a][b].aa--,0==fd[a][b].aa&&(delete fd[a][b],fd[a].aa--),0==fd[a].aa&&delete fd[a])}}function qd(a){var b=0;if(null!=a){if(a=ea(a),gd[a]){a=gd[a];for(var c=a.length-1;0<=c;c--)od(a[c].key),b++}}else la(function(a,c){od(c);b++})}
function rd(a,b,c,d,e){var f=1;b=ea(b);if(a[b]){var g=--a.K,h=a[b];h.zd?h.zd++:h.zd=1;try{for(var k=h.length,l=0;l<k;l++){var m=h[l];m&&!m.tb&&(f&=!1!==sd(m,e))}}finally{a.K=Math.max(g,a.K),h.zd--,pd(c,d,b,h)}}return Boolean(f)}function sd(a,b){a.dd&&od(a.key);return a.handleEvent(b)}
function td(a,b){var c=b.type||b,d=fd;if(!(c in d))return!0;if(ca(b))b=new xc(b,a);else if(b instanceof xc)b.target=b.target||a;else{var e=b;b=new xc(c,a);oa(b,e)}var e=1,f,d=d[c],c=!0 in d,g;if(c){f=[];for(g=a;g;g=g.fb())f.push(g);g=d[!0];g.K=g.aa;for(var h=f.length-1;!b.sb&&0<=h&&g.K;h--)b.currentTarget=f[h],e&=rd(g,f[h],b.type,!0,b)&&!1!=b.Pd}if(!1 in d)if(g=d[!1],g.K=g.aa,c)for(h=0;!b.sb&&h<f.length&&g.K;h++)b.currentTarget=f[h],e&=rd(g,f[h],b.type,!1,b)&&!1!=b.Pd;else for(d=a;!b.sb&&d&&g.K;d=
d.fb())b.currentTarget=d,e&=rd(g,d,b.type,!1,b)&&!1!=b.Pd;return Boolean(e)}
function ld(a,b){if(a.tb)return!0;var c=a.type,d=fd;if(!(c in d))return!0;var d=d[c],e,f;if(!$c){var g;if(!(g=b))a:{g=["window","event"];for(var h=aa;e=g.shift();)if(null!=h[e])h=h[e];else{g=null;break a}g=h}e=g;g=!0 in d;h=!1 in d;if(g){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var k=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){k=!0}if(k||void 0==e.returnValue)e.returnValue=!0}}k=new ed;k.vd(e,this);e=!0;try{if(g){for(var m=[],n=k.currentTarget;n;n=n.parentNode)m.push(n);f=d[!0];
f.K=f.aa;for(var v=m.length-1;!k.sb&&0<=v&&f.K;v--)k.currentTarget=m[v],e&=rd(f,m[v],c,!0,k);if(h)for(f=d[!1],f.K=f.aa,v=0;!k.sb&&v<m.length&&f.K;v++)k.currentTarget=m[v],e&=rd(f,m[v],c,!1,k)}else e=sd(a,k)}finally{m&&(m.length=0)}return e}c=new ed(b,this);return e=sd(a,c)};function E(){uc.call(this)}r(E,uc);E.prototype.customEvent_=!0;p=E.prototype;p.sf=null;p.fb=function(){return this.sf};p.Q=function(a){this.sf=a};p.addEventListener=function(a,b,c,d){id(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){nd(this,a,b,c,d)};p.dispatchEvent=function(a){return td(this,a)};p.c=function(){E.a.c.call(this);qd(this);this.sf=null};q("H.util.EventTarget",E);E.prototype.Q=E.prototype.Q;E.prototype.setParentEventTarget=E.prototype.Q;E.prototype.fb=E.prototype.fb;E.prototype.getParentEventTarget=E.prototype.fb;E.prototype.addEventListener=E.prototype.addEventListener;E.prototype.addEventListener=E.prototype.addEventListener;E.prototype.removeEventListener=E.prototype.removeEventListener;E.prototype.removeEventListener=E.prototype.removeEventListener;E.prototype.dispatchEvent=E.prototype.dispatchEvent;
E.prototype.dispatchEvent=E.prototype.dispatchEvent;E.prototype.g=E.prototype.g;E.prototype.dispose=E.prototype.g;E.prototype.Gb=E.prototype.Gb;E.prototype.addOnDisposeCallback=E.prototype.Gb;function F(a){var b;wa(this,F);F.a.constructor.call(this);this.qa=ud++;a&&(b="min",Ea(a[b])&&(this.gh=a[b]),b="max",Ea(a[b])&&(this.fh=a[b]),b="visibility",b in a&&(this.ae=!!a[b]),b="zIndex",b in a&&(this.Wc=+a[b]||0),b="provider",b in a&&(this.k=a[b]),b="data",b in a&&this.setData(a[b]))}r(F,E);q("H.map.Object",F);var vd={ANY:0,SPATIAL:1,MARKER:2,DOM_MARKER:3,GROUP:4};F.Type=vd;F.prototype.b={li:"visibilitychange",mi:"zindexchange"};var ud=Ab;F.prototype.Ni=function(){return this.qa};
F.prototype.getId=F.prototype.Ni;F.prototype.gh=-1/0;F.prototype.fh=1/0;F.prototype.ae=!0;F.prototype.setVisibility=function(a){var b=this.ae;(a=!!a)^b&&(this.ae=a,this.p(qc),this.dispatchEvent(new yc(this.b.li,a,b)));return this};F.prototype.setVisibility=F.prototype.setVisibility;F.prototype.getVisibility=function(a){for(var b=this,c;(c=b.ae)&&a&&(b=b.O););return c};F.prototype.getVisibility=F.prototype.getVisibility;F.prototype.Wc=t;F.prototype.fj=function(){return this.Wc};
F.prototype.getZIndex=F.prototype.fj;F.prototype.Xj=function(a){var b=this.Wc;a!==b&&(this.Kc(),this.Wc=a,this.p(tc),this.dispatchEvent(new yc(this.b.mi,a,b)));return this};F.prototype.setZIndex=F.prototype.Xj;F.prototype.ce=t;function wd(a){var b=a.ce,c,d,e;b||(c=(d=a.Wc)!==t,(b=a.O)?(b=wd(b).slice(),b[0]|=c):b=[c|0],b.push(d||0,(e=a.Wh)!==t?e:a.qa),a.ce=b);return b}F.prototype.Kc=function(){this.ce=t};
function xd(a,b,c){if(!c||a[0]|b[0])for(var d=a.length,e=b.length,f=cb(d,e),g,h=1,k=1+c;h<f;h+=k)if(g=a[h]-b[h])return g;return c?0:d-e}F.compareZOrder=function(a,b){return a.gd(b)};F.prototype.gd=function(a){return this.lc-a.lc||xd(wd(this),wd(a),!1)};F.prototype.compareZOrder=F.prototype.gd;p=F.prototype;p.previousSibling=sa;p.nextSibling=sa;p.Wh=t;p.O=sa;p.Wi=function(){return this.O};F.prototype.getParentGroup=F.prototype.Wi;F.prototype.Tb=function(){for(var a=this,b;b=a.O;)a=b;return a};
F.prototype.getRootGroup=F.prototype.Tb;F.prototype.contains=function(a){return this===a};F.prototype.contains=F.prototype.contains;F.prototype.Q=function(a){if(this.O)throw new zc(this.Q,"Not allowed for a child of a group");F.a.Q.call(this,a)};F.prototype.setParentEventTarget=F.prototype.Q;F.prototype.k=null;F.prototype.fa=function(){return this.k};F.prototype.getProvider=F.prototype.fa;
F.prototype.hc=function(a,b){var c=this.k,d,e;if(d=c!==a){if(b&&c&&!u(c,G)||a&&!u(a,G))throw new zc(b,"Only LocalObjectProvider allows an object transfers");e=this.type!==vd.GROUP;c&&(this.p(sc),e&&c.L(this));this.kb=sa;if(this.k=a)e&&a.A(this),this.p(rc)}return d};F.prototype.cb=function(){return this.kb||(this.kb=new D)};F.prototype.getInvalidations=F.prototype.cb;F.prototype.p=function(a){var b=this.fa(),c;(c=!!b)&&b.jb(this,a);return c};F.prototype.invalidate=F.prototype.p;
F.prototype.c=function(){this.O&&this.O.L(this);delete this.kb;F.a.c.call(this)};F.prototype.getData=function(){return this.ri};F.prototype.getData=F.prototype.getData;F.prototype.setData=function(a){this.ri=a;return this};F.prototype.setData=F.prototype.setData;function yd(a){zd(this,yd,a)}q("H.map.SpatialStyle",yd);function zd(a,b,c){var d,e,f,g;if(c){d=Ad;for(g=u(c,yd);d--;)if(e=Bd[d],c.hasOwnProperty(e))if(f=c[e],g)a[e]=f;else{if((f=Cd[d](f))===Dd)throw new y(b,0,e+": "+c[e]);f!==a[e]&&f!==t&&(a[e]=f)}b=g?c.Re:0<a.lineWidth&&Ma(a.strokeColor);a.Re=b;b=g?c.Xb:Ma(a.fillColor);a.Xb=b}return a}yd.prototype.Xb=!0;yd.prototype.Re=!0;var Bd=[];yd.prototype[Bd[0]="strokeColor"]="rgba(0,85,170,.6)";yd.prototype[Bd[1]="fillColor"]="rgba(0,85,170,.4)";
yd.prototype[Bd[2]="lineWidth"]=2;yd.prototype[Bd[3]="lineCap"]="round";yd.prototype[Bd[4]="lineJoin"]="miter";yd.prototype[Bd[5]="miterLimit"]=10;yd.prototype[Bd[6]="lineDash"]=Sa;yd.prototype[Bd[7]="lineDashOffset"]=0;var Ad=Bd.length;yd.prototype.F=function(a){var b,c;b=this===a;if(!b&&a){for(b=0;b<Ad&&(c=Bd[b],this[c]===a[c]);b++);b=b===Ad}return b};yd.prototype.equals=yd.prototype.F;yd.prototype.Bg=function(a){return zd(new yd(this),this.Bg,a)};yd.prototype.getCopy=yd.prototype.Bg;
var Dd={},Cd=[function(a){return a?qa(a):Dd},function(a){return a?qa(a):Dd},function(a){return 0<=a&&100>=a?+a:Dd},function(a){return"butt"===(a=qa(a))||"square"===a||"round"===a?a:Dd},function(a){return"round"===a||"bevel"===a||"miter"===a?a:Dd},function(a){return 0<a&&100>=a?+a:Dd},function(a){return a&&a.every&&a.every(Fa)?a:Dd},function(a){return z(+a)?Dd:+a}];yd.MAX_LINE_WIDTH=100;var Ed=new yd;yd.DEFAULT_STYLE=Ed;function Fd(a,b){b&&this.Vh(b.style);a&&(this.xd=!0);Fd.a.constructor.call(this,b)}r(Fd,F);q("H.map.Spatial",Fd);Fd.prototype.type=vd.SPATIAL;Fd.prototype.lc=0;Fd.prototype.style=Ed;Fd.prototype.yc=function(){return this.style};Fd.prototype.getStyle=Fd.prototype.yc;Fd.prototype.Vh=function(a){var b=this.style,c=!0;a?this.style=u(a,yd)?a:new yd(a):this.style?delete this.style:c=!1;c&&(this.dispatchEvent(new yc("stylechange",this.style,b)),this.p(qc));return this};Fd.prototype.setStyle=Fd.prototype.Vh;
p=Fd.prototype;p.Sf=eb(yd.MAX_LINE_WIDTH/2)+1;p.fe=[];p.ge=[];p.xd=!1;p.jj=function(){return this.xd};Fd.prototype.isClosed=Fd.prototype.jj;Fd.prototype.getGeometry=Fd.prototype.pd;Fd.prototype.Li=function(){return-1};Fd.prototype.getHybridIdx=Fd.prototype.Li;function Gd(a,b,c){if(!u(this,I)&&!u(this,Hd))throw Error("Illegal constructor call "+xa(Gd));Gd.a.constructor.call(this,a,c);this.q(b)}r(Gd,Fd);q("H.map.GeoShape",Gd);Gd.prototype.la=null;Gd.prototype.Ha=function(){return this.la};Gd.prototype.getStrip=Gd.prototype.Ha;Gd.prototype.q=function(a){var b;if(null!==a&&!u(a,C))throw new y(Gd.prototype.q,0,a);b=this.la;this.la=a;null!==b&&(this.dispatchEvent(new yc("stripchange",a,b)),this.p(pc));return this};Gd.prototype.setStrip=Gd.prototype.q;
Gd.prototype.getBounds=Gd.prototype.o;function Id(a,b,c,d){var e=[],f=b.length,g,h;for(g=0;g<f;g++)h=b[g],h.length&&e.push(Jd(a,h,c,d));return e}function Jd(a,b,c,d){var e,f=[],g=b.length,h=0;a.ig=0;for(e=e||0;h<g;)f.push(Kd(a,b[h++],b[h++],e,d));c&&f.push(Kd(a,b[0],b[1],e,d));return f}function Kd(a,b,c,d,e){var f=a.ig;f&&180<hb(f-c)&&(c+=0>f?-360:360);a.ig=c;return e.Te(b,c+d)};function Hd(a,b){var c;Hd.a.constructor.call(this,!1,a,b);b&&(c=b.arrows)&&this.Ph(c)}r(Hd,Gd);q("H.map.Polyline",Hd);Hd.prototype.o=function(){return this.uh.o()};Hd.prototype.getBounds=Hd.prototype.o;Hd.prototype.q=function(a){var b,c,d,e=this.uh=new jc;a.mg(function(a,g,h,k){if(0<k){var l,m,n;c<g?(h=c,m=g):(h=g,m=c);b<a?(l=a,n=b):(l=b,n=a);d=e.ib(l,h,n,m,180<m-h);d.de=k-1}b=a;c=g});return Hd.a.q.call(this,a)};Hd.prototype.setStrip=Hd.prototype.q;Hd.prototype.xg=function(){return this.bd&&this.bd.Fe()};
Hd.prototype.getArrows=Hd.prototype.xg;Hd.prototype.Ph=function(a){var b=this.xg(),c=!1;!a&&b?(delete this.bd,c=!0):!a||b&&b.F(a)||(this.bd=new $a(a),c=!0);c&&this.p(qc);return this};Hd.prototype.setArrows=Hd.prototype.Ph;Hd.prototype.clip=function(a){return Ld(this,a)};Hd.prototype.clip=Hd.prototype.clip;Hd.prototype.pd=function(a){var b;b=Ld(this,a.od());b=Id(this,b,!1,a.rd());a=a.qd();return b=Md(b,a.left,a.top,a.right,a.bottom)};Hd.prototype.getGeometry=Hd.prototype.pd;
function Nd(a,b){return a.de-b.de}function Ld(a,b){var c,d,e=a.la.C,f,g,h,k=-2,l=[],m,n=Yb;c=nc(a.uh,b).sort(Nd);f=c.length;for(g=0;g<f;g++)d=c[g],h=d.de,d=3*h,k+1!==h&&l.push(m=[e[d],e[d+1]]),k=h,d+=3,h=e[d],d=e[d+1],m.push(h,d);if(a.la.nd()){e=[];for(g=0;g<l.length;g++)if(m=l[g],f=m.length){k=[];for(c=0;c<f;c+=2)0==c||0<c&&!n(m[c+1],m[c-1])?k.push(m[c],m[c+1]):(k.push(m[c],m[c+1]),e.push(k),k=[],m[c-1]+=0>m[c-1]?360:-360,k.push(m[c-2],m[c-1],m[c],m[c+1]));e.push(k)}l=e}return l};function I(a,b){I.a.constructor.call(this,!0,a,b)}r(I,Gd);q("H.map.Polygon",I);I.prototype.o=function(){var a,b,c,d;if(!(a=this.Jb)){if(b=this.Ha())if(a=b.o())(c=b.nd(!0))&&(d=b.Dg())&&(a=a.lb(Tb([b.Ce(0),b.Ce(d-1)],!0),!0)),360===a.U()&&1===c%2&&(a=a.La(this.Wb?90:-90,0));this.Jb=a||null}return a};I.prototype.getBounds=I.prototype.o;
I.prototype.pd=function(a){var b,c,d,e=a.rd(),f,g,h,k;d=Od(this);d=Id(this,d,!0,e);f=this.o();g=this.Ha().nd(!0);h=this.Wb;if(360===f.U()&&1==g%2){var l;g=this.Sf+1;d[0][1].x>d[0][d[0].length-1].x&&(d[0]=d[0].reverse());b=[];c=d[0].length-1;for(k=0;k<c;k++)l=d[0][k],b[k]=new J(l.x-2*e.w,l.y),b[k+c]=new J(l.x-e.w,l.y),b[k+2*c]=new J(l.x,l.y),b[k+3*c]=new J(l.x+e.w,l.y),b[k+4*c]=new J(l.x+2*e.w,l.y);d[0]=b;e=e.Te(h?90:-90,0);e.y=h?e.y-g:e.y+g;g=e.oa();e.x=d[0][d[0].length-1].x+1;g.x=d[0][0].x-1;d[0].push(e,
g)}c=a.qd();e=c.left;g=c.top;k=c.right;c=c.bottom;b=Pd(e,g,d[0],h);d[1]&&(b^=Pd(e,g,d[1],h));if(!Md(d,e,g,k,c).length)d=b?this.fe:this.ge;else if(!a.od().re(f)){a=[];f=[new J(e,g),new J(k,g),new J(k,c),new J(e,c)];for(h=d.length;h--;){g=d[h];e=Qd(f);g=Qd(g);var m=l=void 0,n=void 0,v=void 0,x=v=void 0,w=n=k=void 0;b=l=l=k=void 0;k={};c=b=1;l=0;l=~~(1*l);switch(l){case 1:c=b=0;break;case 2:b=0;c=1;break;case 3:b=1,c=0}var K=c,fa=void 0,ya=void 0,n=c=void 0;if(g&&e){l=Rd(g);Sd(g.x,g.y,null,l,0,0);m=
Rd(e);Sd(e.x,e.y,null,m,0,0);for(l=g;l.next;l=l.next)if(!l.V)for(m=e;m.next;m=m.next)!m.V&&(fa=Td(l.next),ya=Td(m.next),n=Ud(l,fa,m,ya,k))&&(n=k.Yf,w=k.Zf,v=k.ck,x=k.dk,n=Sd(v,x,null,null,1,n),v=Sd(v,x,null,null,1,w),n.af=v,v.af=n,Vd(n,l,fa),Vd(v,m,ya));k=Wd(g,e);b&&(k=1-k);for(l=g;l.next;l=l.next)l.V&&(l.Be=k,k=1-k);k=Wd(e,g);K&&(k=1-k);for(m=e;m.next;m=m.next)m.V&&(m.Be=k,k=1-k);Xd(g);for(Xd(e);(k=Yd(g))!=g;){for(l=null;!k.be;k=k.af){for(b=k.Be;;){l=Sd(k.x,k.y,l,null,0,0);k.be=1;k=b?k.next:k.Z;
if(!k)break;if(k.V){k.be=1;break}}if(!k)break}l.cf=c;c=l}e=c}else e=void 0;if(e)for(g=Zd(e),a.push(g);e.cf;)e=e.cf,g=Zd(e),a.push(g)}d=a}return d};I.prototype.getGeometry=I.prototype.pd;function Pd(a,b,c,d){for(var e=c.length,f=1,g=0,h=c[0],k,l;f<e;f++)k=c[f],l=h.y+(a-h.x)/(k.x-h.x)*(k.y-h.y),cb(h.x,k.x)<=a&&db(h.x,k.x)>=a&&(d?l>b:l<b)&&g++,h=k;return 0<g%2}
function Zd(a){var b=[],c,d=a,e,f;do{e=eb(100*(d.Hd?d.Hd:d.x))/100;f=eb(100*(d.rf?d.rf:d.y))/100;if(!c||0.01<jb(kb(c.x-e,2)+kb(c.y-f,2)))c=new J(e,f),b.push(c);d=d.next}while(d&&d!==a);return b}I.prototype.Jb=null;I.prototype.q=function(a){if(!u(a,C)&&(va(this,I)||null!==a))throw new y(I.prototype.q,0,a);this.Jb=null;return I.a.q.call(this,a)};I.prototype.setStrip=I.prototype.q;I.prototype.Wb=!0;I.prototype.Pc=function(a){this.Wb!==a&&(this.Wb=a,this.Jb=null,this.p(pc));return this};
I.prototype.setNorthPoleCovering=I.prototype.Pc;I.prototype.Vi=function(){return this.Wb};I.prototype.getNorthPoleCovering=I.prototype.Vi;
function Od(a){var b,c,d;b=[[]];c=a.Ha().C;d=[];var e=c.length,f,g,h,k=!1;for(f=0;f<e;f+=3)g=c[f],h=c[f+1],k||180!=hb(h)||(d.push(g),d.push(h),d.push(g),d.push(-h),k=!0),d.push(g),d.push(h);c=d;a=a.o();d=a.U();360>d&&-180==a.j&&(a=new B(a.s,180,a.r,a.n));360>d&&180==a.n&&(a=new B(a.s,a.j,a.r,-180));if(a.Vb()){h=c.length;var l;d=-1;f=Yb;for(e=0;e<h-2;e+=2)if(f(c[e+1],c[e+3])){d=e+2;break}-1===d&&f(c[h-1],c[1])&&(d=h);-1!==d&&(f=c[d-2],e=c[d-1],g=c[d%h],l=c[(d+1)%h],180!==hb(f)&&180!==hb(g)&&(k=hb(g-
f),h=hb(l-e),h+=180<h?-360:0,l=hb(180-l),l+=180<l?-360:0,k/=hb(h)/hb(l),f=g+(g>f?-k:k),e=0<e?180:-180,c.splice(d,0,f,e,f,-e)))}b[0]=$d([].concat(c),a.j);360>a.U()&&a.qe(new A(a.s,180))&&(c=$d([].concat(c),a.n),b.push(c));return b}I.prototype.clip=function(){var a=I.prototype.clip,b=pa.console;b&&b.warn&&(a=xa(a)+" is deprecated and will be removed soon. ",b.warn(a));return Od(this)};I.prototype.clip=I.prototype.clip;
function $d(a,b){for(var c=[],d=Number.POSITIVE_INFINITY,e=-1,f,g=a.length,c=0;c<g;c+=2)f=hb(a[c+1]-b),f+=180<f?360-f:f,f<d&&(d=f,e=c);return 0<c?(c=a.splice(e,a.length-e),c.concat(a)):a};function ae(a,b){ae.a.constructor.call(this,null,b);this.Bf(a)}r(ae,I);q("H.map.Rect",ae);ae.prototype.Bf=function(a){if(!u(a,B))throw new y(this.Bf,0,a);a.F(this.Jb)||(this.I=a,ae.a.q.call(this,null),this.Jb=a,this.la||this.p(pc))};ae.prototype.setBounds=ae.prototype.Bf;ae.prototype.o=function(){return this.I};ae.prototype.getBounds=ae.prototype.o;ae.prototype.Pc=function(){return this};ae.prototype.setNorthPoleCovering=ae.prototype.Pc;ae.prototype.q=function(){return this};
ae.prototype.setStrip=ae.prototype.q;ae.prototype.Ha=function(){return this.la||ae.a.q.call(this,this.Ke()).la};ae.prototype.getStrip=ae.prototype.Ha;ae.prototype.Ke=function(){var a=this.I,b,c,d,e,f=[b=a.s,c=a.j,t,b,e=a.n,t,d=a.r,e,t,d,c,t];180<=a.U()&&(f.splice(9,0,d,a=a.T().lng,t),f.splice(3,0,b,a,t));return new C(f)};function be(a,b,c){if(!a||!b||!c)throw new y(be,null,"Must specify name, version and revision parameter");this.name=a;this.version=b;this.revision=c}q("H.util.BuildInfo",be);be.prototype.toString=function(){return this.name+";"+this.version+";"+this.revision};var ce={};function de(a,b,c){if(!a)throw new y(de,1,"Must specify a name parameter");return ce[a]||(ce[a]=new be(a,b,c))}be.get=de;function ee(){}q("H.util.ICapturable",ee);ee.prototype.N=function(){};ee.prototype.capture=ee.prototype.N;q("H.util.Disposable",uc);uc.prototype.Gb=uc.prototype.Gb;uc.prototype.addOnDisposeCallback=uc.prototype.Gb;function fe(a){a&&"function"==typeof a.g&&a.g()}q("H.util.dispose",fe);function ge(a,b){var c=a.bb(),d=c.ownerDocument;ge.a.constructor.call(this);this.W=a;this.u=c=c.appendChild(he(d,"DIV","position:absolute;bottom:4em;left:0.5em;z-index:1;height:0px"));this.le=he(d,"DIV","position:absolute;top:0px;pointer-events:none;",ie);this.ni=c.appendChild(this.le).firstChild.firstChild.style;c=c.appendChild(he(d,"DIV","-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.2em;"));
this.jd=c.appendChild(he(d,"SPAN"));this.jd.setAttribute("unselectable","on");this.ai=c.appendChild(he(d,"A","color:inherit","Terms of use"));this.ai.target="_blank";this.Qj=c=c.appendChild(he(d,"SPAN","color:inherit"," | "));this.Rj=c.appendChild(function(){var a=he(d,"A","color:inherit","Report image");a.target="_blank";return a}());this.Ug=je.slice();this.Sd(b);this.kc=s(this.kc,this);this.va=s(this.va,this);this.W.addEventListener(this.W.b.Pf,this.kc);this.W.f.addEventListener("add",this.va);
this.W.f.addEventListener("remove",this.va);this.W.f.addEventListener("set",this.va);this.va()}r(ge,uc);q("H.map.Imprint",ge);var ke=ta("font href invert reportHref"),je=ta("11px Arial,sans-serif;http://here.com/terms;;http://here.com/",";");ge.prototype.Sd=function(a){var b=ke.length,c,d,e;a||(this.Ug=je.slice());for(e=this.Ug;b--;)c=ke[b],d=a&&c in a?e[b]=a[c]:e[b],2===b?(this.ni.fill=d?"#FFF":"#1B468D",this.u.style.color=d?"#FFF":"#333"):1===b?this.ai[c]=d:this.u.style[c]=d};
ge.prototype.setOptions=ge.prototype.Sd;function he(a,b,c,d){a=a.createElement(b);c&&(a.style.cssText=c);d&&(a.innerHTML=d);return a}ge.prototype.bb=function(){return this.u};ge.prototype.getElement=ge.prototype.bb;ge.prototype.kc=function(){var a=je[3],b=this.W,c=this.Rj,d=this.Qj,e;b.Ie().type===le?d.style.display="none":(b=b.ma.ab(),e=b.position,d.style.display="inline",c.href=a+[e.lat,e.lng,22,b.yaw,90+b.pitch].join()+",panorama.day,report");this.jd.innerHTML="&copy; "+this.pa()+" | "};
ge.prototype.va=function(){this.kc();setTimeout(this.kc,5E3)};
var ie='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="3em" height="2.2em" viewBox="0 0 540 430"><path d="M 0,303 127,430 h 77 l -53,-53 c -19,-18 -24,-31 -13,-43 8,-9 18,-8 30,3 l 64,65 39,-39 -69,-70 c -28,-28 -55,-34 -81,-7 -16,15 -18,30 -17,44 L 38,265 0,303 z m 322,-97 c -41,-41 -79,-43 -113,-9 -34,34 -28,77 5,110 41,41 86,34 120,0 17,-16 26,-31 30,-41 l -34,-19 c -5,9 -12,20 -21,28 -19,19 -36,19 -48,9 l 70,-69 -9,-8 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 38,0 l -38,37 z m 138,-3 39,-39 -42,-42 C 337,145 347,127 355,119 361,113 367,109 371,108 L 339,71 c -2,1 -7,5 -12,9 -13,14 -17,35 -13,49 L 297,114 263,148 374,260 z M 494,34 C 453,-8 415,-10 381,25 c -33,33 -25,79 6,109 41,41 85,35 119,1 20,-20 30,-39 32,-48 L 505,68 c -4,9 -13,24 -24,34 -18,19 -36,19 -48,9 L 503,42 494,34 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 37,0 l -37,37 z" /></svg>',me=
"1987&ndash;"+db(2014,(new Date).getFullYear())+" HERE";ge.prototype.pa=function(){var a=this.W,b=a.getZoom(),c=a.Fg(),a=a.f,d=a.d.length,e={},f=0,g,h,k,l=[me];if(c)for(;f<d;f++)if(h=a.get(f).getCopyrights(c,b))for(g=0;g<h.length;g++)e[k=h[g].label]||(l.push(k),e[k]=1);return l.join(", ")};ge.prototype.getCopyrights=ge.prototype.pa;ge.prototype.yc=function(){return this.u.style};ge.prototype.getStyle=ge.prototype.yc;
ge.prototype.c=function(){this.W.removeEventListener(this.W.b.Pf,this.kc);this.W.f.removeEventListener("add",this.va);this.W.f.removeEventListener("remove",this.va);this.W.f.removeEventListener("set",this.va);this.u.parentNode&&Wa(this.u)};
ge.prototype.N=function(a,b,c,d){var e=a.getContext("2d"),f=window.getComputedStyle(this.jd),g=Da(f.getPropertyValue("font-size")),h,k=this.le.childNodes[0],l;h=this.le.offsetHeight;var m=this.u.ownerDocument,n=this.jd.offsetHeight,v=+a.height,x=k.getBoundingClientRect?k.getBoundingClientRect():{};l=x.width*b;var x=x.height*b,w=v-(h+n+3)*b;h=function(a){a=he(m,"div",null,a);return a.textContent||a.innerText||""}(this.pa());e.font=g*b+"px "+f.getPropertyValue("font-family");e.fillStyle=f.getPropertyValue("color");
e.fillText(h,5*b,v-5*b);f=Ua(k,document,!1);f.setAttribute("width",l);f.setAttribute("height",x);l=m.createElement("div");l.appendChild(f);ne.load(Oa(l.innerHTML),function(d){e.drawImage(d,5*b,w);c(a)},d)};ge.prototype.capture=ge.prototype.N;function oe(a,b,c,d){oe.a.constructor.call(this,a,b,c);this.modifiers=d}r(oe,yc);q("H.map.ChangeEvent",oe);oe.prototype.FOV=1;oe.prototype.PITCH=2;oe.prototype.POSITION=4;oe.prototype.ROLL=8;oe.prototype.SIZE=16;oe.prototype.YAW=32;oe.prototype.ZOOM=64;var pe=md;q("H.util.events.listenOnce",pe);q("H.util.events.dispatchEvent",td);q("H.util.events.fireListeners",function(a,b,c,d){var e=fd;return b in e&&(e=e[b],c in e)?rd(e[c],a,b,c,d):!0});q("H.util.events.listen",id);q("H.util.events.unlisten",nd);
var qe=sd,sd=function(a,b){var c,d,e,f=!0;c=b[b.currentTarget===b.target?"AT_TARGET":a.N?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")];if(!d||"pointerenter"!==(e=b.type)&&"pointerleave"!==e)b.eventPhase=c,f=qe(a,b),d&&a.src.fb&&null===a.src.fb()&&delete b.eventPhase;return f};function L(){L.a.constructor.call(this);this.P={};this.Nd={position:new A(0,0),pitch:0,yaw:0,roll:0,fov:70};this.ub=0}r(L,E);q("H.map.ViewModel",L);L.prototype.b={m:"update",mc:"sync"};L.prototype.ee=ta("position pitch yaw roll fov zoom");var re=ta("fov pitch position roll yaw zoom").reduce(function(a,b){a[b]=oe.prototype[b.toUpperCase()];return a},{});
function se(a,b,c,d){var e=d.length,f,g,h;a.Sc=0;a.ff={};for(a.bf={};e--;)if(f=d[e],h=c[f],g=b[f],null!=h){if(a.ff[f]=g,a.bf[f]=h,b[f]=h,Lb(h)&&Lb(g)&&(h.lat!==g.lat||h.lng!==g.lng)||!Lb(h)&&h!==g)a.Sc|=re[f]}else delete b[f];return b}L.prototype.ab=function(){return se(this,{},this.Nd,this.ee)};L.prototype.getCameraData=L.prototype.ab;
L.prototype.Mc=function(a){var b,c=a.animate;if(!a)throw new y(this.Mc,0,a);if((b=a.position)&&!Lb(b))throw new y(this.Mc,0,"position");this.P.zoom=z(a.zoom)?z(this.P.zoom)?this.ub:this.P.zoom:a.zoom;b=this.P.zoom;a=se(this,{},a,this.ee);this.P={animate:c,zoom:b,camera:a};this.dispatchEvent(new te(this.P));return this};L.prototype.setCameraData=L.prototype.Mc;
L.prototype.Xd=function(a){var b=a.zoom;se(this,this.Nd,a,this.ee);b!==this.ub&&(this.Sc|=re.zoom);this.ff.zoom=this.ub;this.bf.zoom=b;this.ub=null!=b?b:this.ub;this.Nd.zoom=this.ub;this.P={};this.dispatchEvent(new oe(this.b.mc,this.bf,this.ff,this.Sc))};L.prototype.setZoom=function(a,b){if(z(a=+a))throw new y(this.setZoom,0,a);this.P={animate:b,zoom:a,camera:this.P.camera||this.Nd};this.dispatchEvent(new te(this.P))};L.prototype.setZoom=L.prototype.setZoom;L.prototype.getZoom=function(){return this.ub};
L.prototype.getZoom=L.prototype.getZoom;L.prototype.$i=function(){var a=this.P.camera;a.zoom=Ea(this.P.zoom)?this.P.zoom:a.zoom;return a};L.prototype.getRequestedCameraData=L.prototype.$i;L.prototype.startControl=L.prototype.Aa;L.prototype.control=L.prototype.control;L.prototype.endControl=L.prototype.endControl;function te(a){te.a.constructor.call(this,L.prototype.b.m);this.requested=a}r(te,xc);function J(a,b){this.x=+a;this.y=+b}q("H.math.Point",J);J.prototype.set=J;J.prototype.set=J.prototype.set;J.prototype.oa=function(a){a?(a.x=this.x,a.y=this.y):a=new J(this.x,this.y);return a};J.prototype.clone=J.prototype.oa;J.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};J.prototype.add=J.prototype.add;J.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};J.prototype.sub=J.prototype.sub;J.prototype.scale=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};
J.prototype.scale=J.prototype.scale;J.prototype.round=function(){this.x=eb(this.x);this.y=eb(this.y);return this};J.prototype.round=J.prototype.round;J.prototype.floor=function(){this.x=fb(this.x);this.y=fb(this.y);return this};J.prototype.floor=J.prototype.floor;J.prototype.ceil=function(){this.x=gb(this.x);this.y=gb(this.y);return this};J.prototype.ceil=J.prototype.ceil;J.prototype.F=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};J.prototype.equals=J.prototype.F;
J.prototype.distance=function(a){return jb(kb(this.x-a.x,2)+kb(this.y-a.y,2))};J.prototype.distance=J.prototype.distance;function ue(){}ue.prototype.Yb=function(){};q("H.geo.IProjection.prototype.latLngToPoint",ue.prototype.Yb);ue.prototype.ea=function(){};q("H.geo.IProjection.prototype.xyToGeo",ue.prototype.ea);ue.prototype.Kd=function(){};q("H.geo.IProjection.prototype.pointToGeo",ue.prototype.Kd);ue.prototype.Qb=function(){};q("H.geo.IProjection.prototype.geoToPoint",ue.prototype.Qb);var M={};q("H.geo.mercator",M);M.Xg=function(a){return cb(1,db(0,0.5-ib(pb(vb+ub*a/180))/tb/2))};M.ah=function(a){return a/360+0.5};M.Yb=function(a,b,c){c?(c.x=M.ah(b),c.y=M.Xg(a)):c=new J(M.ah(b),M.Xg(a));return c};M.latLngToPoint=M.Yb;M.Qb=function(a,b){return M.Yb(a.lat,a.lng,b)};M.geoToPoint=M.Qb;M.gi=function(a){return 0>=a?90:1<=a?-90:zb*(2*qb(lb(tb*(1-2*a)))-ub)};M.ei=function(a){return 360*(1===a?1:Bb(a,1))-180};
M.ea=function(a,b,c){c?(c.lat=M.gi(b),c.lng=M.ei(a)):c=new A(M.gi(b),M.ei(a));return c};M.xyToGeo=M.ea;M.Kd=function(a,b){return M.ea(a.x,a.y,b)};M.pointToGeo=M.Kd;function ve(a,b){this.projection=a||M;this.l=0;this.Tc=this.exp=ib(b||256)/sb;we(this);this.y=this.x=0}q("H.geo.PixelProjection",ve);ve.prototype.D=function(a){if(z(a))throw new y(this.D,0,a);var b=this.x/this.w,c=this.y/this.h;this.l=a;this.Tc=this.exp+a;we(this);this.x=b*this.w;this.y=c*this.h};ve.prototype.rescale=ve.prototype.D;function we(a){30<a.Tc&&(a.Tc=30);a.w=kb(2,a.Tc);a.h=kb(2,a.Tc)}ve.prototype.Gg=function(){return this.l||0};ve.prototype.getZoomScale=ve.prototype.Gg;
ve.prototype.geoToPixel=function(a,b){var c=this.projection.Yb(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};ve.prototype.geoToPixel=ve.prototype.geoToPixel;ve.prototype.pixelToGeo=function(a,b){return this.projection.ea((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};ve.prototype.pixelToGeo=ve.prototype.pixelToGeo;ve.prototype.ea=function(a,b,c){return this.projection.ea((a+this.x)/this.w,(b+this.y)/this.h,c)};ve.prototype.xyToGeo=ve.prototype.ea;
ve.prototype.Te=function(a,b,c){a=this.projection.Yb(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};ve.prototype.latLngToPixel=ve.prototype.Te;ve.prototype.cc=function(a){return new J(a.x*this.w-this.x,a.y*this.h-this.y)};ve.prototype.pointToPixel=ve.prototype.cc;function N(a){N.a.constructor.call(this);a=a||{};this.min=0;this.max=22;this.qi=!!a.dark;a.min&&this.Rd(a.min);a.max&&this.Qd(a.max);this.pixelProjection=new ve(a.projection,a.minWorldSize)}r(N,E);q("H.map.layer.Layer",N);N.prototype.b={m:"update",Rf:"minchange",Qf:"maxchange"};N.prototype.kj=function(a){return this.min<=a&&a<=this.max};N.prototype.isValid=N.prototype.kj;
N.prototype.Rd=function(a){var b=this.min;if(a!==b){if(z(a))throw new y(N.prototype.Rd,0,"min is NaN");if(a<=this.max)this.min=a,this.dispatchEvent(new yc(this.b.Rf,a,b));else throw new y(N.prototype.Rd,0,"min > max");}return this};N.prototype.setMin=N.prototype.Rd;N.prototype.Qd=function(a){var b=this.max;if(a!==b){if(z(a))throw new y(N.prototype.Qd,0,"max is NaN");if(a>=this.min)this.max=a,this.dispatchEvent(new yc(this.b.Qf,a,b));else throw new y(N.prototype.Qd,0,"max < min");}return this};
N.prototype.setMax=N.prototype.Qd;N.prototype.S=function(){this.dispatchEvent(this.b.m)};N.prototype.c=function(){N.a.c.call(this)};N.prototype.pa=function(){return null};N.prototype.getCopyrights=N.prototype.pa;function O(a){var b={};O.a.constructor.call(this,a);this.td=b.previousSibling=b.nextSibling=b;a&&"objects"in a&&this.Fb(a.objects)}r(O,F);q("H.map.Group",O);O.prototype.type=vd.GROUP;O.prototype.hc=function(a,b){var c;(c=O.a.hc.call(this,a,b))&&this.forEach(xe,!0);return c};O.prototype.setProvider=O.prototype.hc;function xe(a,b,c){a.hc(c.k)}O.prototype.contains=function(a){var b=this===a;if(!b&&this.td.nextSibling!==this.td&&u(a,F))for(;!b&&a;)a===this?b=!0:a=a.O;return b};O.prototype.contains=O.prototype.contains;
O.prototype.Kc=function(){this.ce=t;this.forEach(ye,!0)};O.prototype.resetZInfo=O.prototype.Kc;function ye(a){a.Kc()}O.prototype.p=function(a){var b=O.a.p.call(this,a);b&&(this.tg=a,this.forEach(ze,!0),delete this.tg);return b};O.prototype.invalidate=O.prototype.p;function ze(a,b,c){a.p(c.tg)}O.prototype.forEach=function(a,b,c){for(var d=this.td,e=d.nextSibling,f=0,g;e!==d;)g=e.nextSibling,a.call(c,e,f++,this),b&&u(e,O)&&e.forEach(a,b,c),e=g};O.prototype.forEach=O.prototype.forEach;
O.prototype.eb=function(a){var b=[];this.forEach(Ae,a,b);return b};O.prototype.getObjects=O.prototype.eb;O.prototype.o=function(){var a=null;this.forEach(function(b){a?b.o?(b=b.o())&&(a=a.lb(b)):a=a.Xe(b.getPosition()):a=b.o?b.o():Tb([b.getPosition()])});return a};O.prototype.getBounds=O.prototype.o;function Ae(a){this.push(a)}O.prototype.ne=0;O.prototype.Hi=function(){return this.ne};O.prototype.getChildCount=O.prototype.Hi;O.prototype.sj=Ab;
O.prototype.A=function(a){var b=this.td,c=b.previousSibling,d,e;u(a,F,this.A,0);if(a.contains(this))throw new zc(this.A,"The new object contains the parent group");e=a.hc(this.k,this.A);if((d=a.O)!==this){if(d){d=a.previousSibling;var f=a.nextSibling;d.nextSibling=f;f.previousSibling=d}a.O=this;F.a.Q.call(a,this);c.nextSibling=a;a.previousSibling=c;a.nextSibling=b;b.previousSibling=a;this.ne++}a.Wh=this.sj++;a.Kc();e||a.p(tc);return a};O.prototype.addObject=O.prototype.A;
O.prototype.Fb=function(a){var b,c;Ba(a,"Array",this.Fb,0,void 0);b=a.length;for(c=0;c<b;c++)this.A(a[c])};O.prototype.addObjects=O.prototype.Fb;O.prototype.L=function(a){if(!a||a.O!==this)throw new zc(this.L,"object not found");var b=a.previousSibling,c=a.nextSibling;b.nextSibling=c;c.previousSibling=b;a.O=null;F.a.Q.call(a,null);delete a.previousSibling;delete a.nextSibling;u(a.k,G)&&a.hc(null,this.L);this.ne--;return a};O.prototype.removeObject=O.prototype.L;
O.prototype.ec=function(a){var b,c;Ba(a,"Array",this.ec,0,void 0);b=a.length;for(c=0;c<b;c++)this.L(a[c])};O.prototype.removeObjects=O.prototype.ec;O.prototype.Na=function(){var a=this.eb();this.ec(a)};O.prototype.removeAll=O.prototype.Na;function Md(a,b,c,d,e){var f,g,h=a.length,k,l,m,n,v,x,w;if(h){for(f=[];h--;)for(x=a[h],n=x.length,v=0,k=1;k<n;k++)if(w=Be(x[k-1],x[k],c,b,d,e))l=w[0],m=w[1],v&&v.F(l)?g.push(m):f.push(g=w),v=m;n=f.length;1<n&&f[0][0].F(f[n-1][f[n-1].length-1])&&f[0].splice.apply(f[0],[0,1].concat(f.splice(n-1,1)[0]))}else f=a;return f}
function Be(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,m;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;m=a;g=h;a=b;h=l;b=m;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;m=f;f=-c;c=-m}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new J(h,-b),new J(g,-a)]:[new J(g,-a),new J(h,-b)]}
function Sd(a,b,c,d,e,f){var g={};g.x=a;g.y=b;g.next=c;if(g.Z=d)g.Z.next=g;c&&(g.next.Z=g);g.cf=null;g.af=null;g.V=e;g.Be=0;g.be=0;g.alpha=f;return g}function Td(a){for(;a&&a.V;)a=a.next;return a}function Rd(a){if(a)for(;a.next;)a=a.next;return a}function Yd(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.V||b.V&&b.be))}return b}function Xd(a){var b=Rd(a);b.Z.next=a;a.Z=b.Z}function Ce(a,b,c,d){return jb((a-c)*(a-c)+(b-d)*(b-d))}
function De(a,b,c,d,e,f){var g=a.x+f*(b.x-a.x);f=a.y+f*(b.y-a.y);e.Yf=Ce(a.x,a.y,g,f)/Ce(a.x,a.y,b.x,b.y);e.Zf=Ce(c.x,c.y,g,f)/Ce(c.x,c.y,d.x,d.y);e.ck=1*g;e.dk=1*f}
function Ud(a,b,c,d,e){var f,g;g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);var h;if(!g&&(a.Hd=a.x,a.rf=a.y,a.x+=(bb()-0.5)/1E4,a.y+=(bb()-0.5)/1E4,g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x),!g))return 0;f=((c.x-a.x)*(d.y-c.y)-(c.y-a.y)*(d.x-c.x))/g;g=((b.y-a.y)*(c.x-a.x)-(b.x-a.x)*(c.y-a.y))/g;if(0>f||1<f||0>g||1<g)return 0;De(a,b,c,d,e,f);0===e.Yf&&0<=(h=e.Zf)&&1>=h&&(a.Hd||(a.Hd=a.x,a.rf=a.y),a.x+=(bb()-0.5)/1E4,a.y+=(bb()-0.5)/1E4,De(a,b,c,d,e,f));return 1}
function Wd(a,b){var c,d,e=0,f;Sd(0,a.y,null,null,0,0);d=Sd(-2147483648,a.y,null,null,0,0);for(c=b;c.next;c=c.next)(f=Ud(d,a,c,c.next,{}))&&e++;return e%2}function Vd(a,b,c){for(;b!==c&&b.alpha<a.alpha;)b=b.next;a.next=b;a.Z=b.Z;a.next.Z=a;a.Z&&(a.Z.next=a)}function Qd(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=Sd(a[d].x,a[d].y,c,null,0,0);if(b.next=c)c.Z=b;c=b}return c};function Ee(a,b,c,d,e){void 0===d&&(d=0,e=a.length-1);for(var f,g=b*b,h=0,k=d,l=a[d].x,m=a[d].y,n=a[e].x,v=a[e].y,x=d+1,w,K=l!==n?(v-m)/(n-l):null;x<e;)w=a[x++],f=w.x,w=w.y,h<(f=cb(null!==K?kb(hb(w-K*f-(m-K*l)),2)/(kb(K,2)+1):hb(f-l),kb(f-l,2)+kb(w-m,2),kb(f-n,2)+kb(w-v,2)))&&(h=f,k=x-1);h>=g||0<c?(d=Ee(a,b,c=(c||0)-1,d,k),d.splice(d.length-1,1),d=d.concat(Ee(a,b,c,k,e))):d=[a[d],a[e]];return d};function Fe(a,b,c,d){this.key="";this.x=a;this.y=b;this.z=c;this.data=d;this.valid=!0}q("H.map.provider.Tile",Fe);function P(a,b,c,d,e,f,g){P.a.constructor.call(this,b,c,d,null);this.key=a;this.ef=g;this.Ta=e;1!==f&&(this.wa=f);this.ua=null;this.Oa={}}r(P,Fe);q("H.map.provider.SpatialTile",P);P.prototype.qd=function(){var a=this.Hj,b;a||(a=0<this.z?-Fd.prototype.Sf:0,b=this.Ta-a,a=this.Hj=new Q(a,a,b,b));return a};P.prototype.getPxClipRect=P.prototype.qd;
P.prototype.od=function(){var a=this.Ai,b;a||(a=this.rd(),b=this.qd(),a=this.Ai=Sb(a.pixelToGeo(new J(b.left,b.top)),a.pixelToGeo(new J(b.right,b.bottom))));return a};P.prototype.getGeoClipRect=P.prototype.od;P.prototype.rd=function(){var a=this.Ij,b;a||(b=this.Ta,a=this.Ij=new ve(t,b),a.D(this.z),a.x=this.x*b,a.y=this.y*b);return a};P.prototype.getPxProj=P.prototype.rd;P.prototype.wa=1;P.prototype.Xi=function(){return this.wa};P.prototype.getPixelRatio=P.prototype.Xi;
function Ge(a,b){return xd(wd(a),wd(b),!1)}P.prototype.xb=function(){this.ua?He(this).Se(this.Eh)&&this.ua.sort(Ge):this.ua=this.ef.requestSpatialsByTile(this,!1,!1).sort(Ge);return this.ua};function He(a){return a.ef.getInvalidations(vd.SPATIAL)}
function Ie(a){var b=a.Eh||Ab,c=He(a),d=a.ua||a.xb(),e,f,g,h=d.length;a.sa=!0;a.ta=!0;if(c.Ne(b))if(c.Ng(b)||c.Rg(b))a.sa=a.ta=!1;else if(c.yd(b)||c.Bc(b)){if(c.yd(b)){e=a.ef.requestSpatialsByTile(a,!1,!1);f=e.length;if(f!==h)a.ta=!1;else for(;f--&&a.ta;)g=e[f],a.Oa[g.qa]?g.cb().yd(b)&&(a.ta=!1):a.ta=!1;a.sa&=a.ta}if(c.Bc(b))for(;h--&&a.sa;)c=d[h].cb(),c.Ne(b)&&c.Bc(b)&&(a.sa=!1)}else c.Se(b)&&(a.sa=!1)}P.prototype.Pe=function(){this.sa&&Ie(this);return this.sa};P.prototype.isCanvasValid=P.prototype.Pe;
Object.defineProperty(P.prototype,"valid",{get:function(){return this.Pe()},set:Ra});P.prototype.zh=function(){var a=this.data;this.data=null;return a};P.prototype.releaseCanvas=P.prototype.zh;P.prototype.Ah=function(){this.Oa={};this.ua=null;return this.Oa};P.prototype.releaseData=P.prototype.Ah;P.prototype.eb=function(){return this.ua};P.prototype.getObjects=P.prototype.eb;
P.prototype.G=function(a,b,c){if(null===this.ua)return Sa;for(var d=this.ua,e=d.length,f,g,h,k,l=this.Oa,m,n,v,x=[],w=[],K,fa;e--;)if(g=d[e],K=g.getHybridIdx(this),g.getVisibility(!0)){h=g.style||g.yc();k="none"!==h.strokeColor?h.lineWidth:0;h=(v=g.xd)&&"none"!==h.fillColor;f=g.qa;m=l[f][1];if(m===g.fe)h&&w.push(g);else if(m!==g.ge)for(f=m.length;f--;){x.length=0;fa=m[f].length;for(n=0;n<fa;n++)x.push(m[f][n].x,m[f][n].y);if(f>=K||h)if(n=-1!==K?f<K:v,n=Fb(a,b,x,k,n),0!==n&&(3!==n||h)){w.push(g);break}}if(c&&
w.length)break}return w};P.prototype.$=function(a){var b=a.getContext("2d"),c=this.xb(),d=c.length,e,f,g;a.width=a.height=this.Ta;b.clearRect(0,0,this.Ta,this.Ta);if(d){for(e=0;e<d;e++)f=c[e],g=f.style||f.yc(),b.save(),(f.xd?this.Nj:this.Oj).call(this,f,b,g),b.restore();this.data=a}this.sa=this.ta=!0;this.Eh=He(this).Hb;return 0<d};P.prototype.render=P.prototype.$;
P.prototype.Oj=function(a,b,c){var d=this.Oa,d=(d=d&&d[a.qa])&&d[1],e;d||(d=a.getGeometry(this),d=Je(d));this.Oa[a.qa]=[a,d];if(a.getVisibility(!0)&&(Ke(b,c,this.wa)&&Le(d,b,!1,!0,!1),"none"!==c.fillColor&&(e=a.bd)&&Me(b,e))){a=d;d=c.lineWidth;c=d*e.width/2;var d=d*e.length/2,f=d/2;e=2*d*e.frequency;for(var g=jb(kb(d,2)+kb(c,2)),h=this.Ta-g,g=new Q(g,g,h,h),k,l,m,n,v,x,w,K,fa,ya,Va,Ff=tb/2,h=a.length;h--;){x=0;k=a[h];if(n=l=k.length){m=k;n=m.length;for(v=0;--n;)v+=m[n].distance(m[n-1]);n=(m=v)>=e}if(n)for(n=
cb(fb(m/e),1E3),n=m/(n+1),v=n/2;--l;){for(w=(K=k[l]).distance(fa=k[l-1]);v<=x+w;)Va=K.x+(fa.x-K.x)*(ya=(v-x)/w),ya=K.y+(fa.y-K.y)*ya,g.se(Va,ya)&&(b.save(),b.translate(Va,ya),b.rotate(-qb((fa.y-K.y)/(K.x-fa.x))+(K.x<fa.x?Ff:-Ff)),b.beginPath(),b.moveTo(-c,-d),b.lineTo(0,d),b.lineTo(c,-d),b.lineTo(0,-f),b.closePath(),b.fill(),b.restore()),v+=n;x+=w}}}};
P.prototype.Nj=function(a,b,c){var d=this.Oa,d=(d=d&&d[a.qa])&&d[1],e;d||(d=a.getGeometry(this),d=Je(d));this.Oa[a.qa]=[a,d];a.getVisibility(!0)&&(d===a.fe&&Me(b,c)?b.fillRect(0,0,this.Ta,this.Ta):d!==a.ge&&(e=Ke(b,c,this.wa),c=Me(b,c),a=a.getHybridIdx(this),0<=a?(Le(d,b,!0,!1,c,0,a),Le(d,b,!1,e,!1,a)):Le(d,b,!0,e,c)))};function Je(a){for(var b=a.length;b--;)a[b]=Ee(a[b],0.6,2);return a}
function Ke(a,b,c){var d=b.Re;d&&(a.strokeStyle=b.strokeColor,a.lineWidth=b.lineWidth*c,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.setLineDash&&b.lineDash!==Sa&&(a.setLineDash(b.lineDash),a.lineDashOffset=b.lineDashOffset));return d}function Me(a,b){var c=b.Xb;c&&(a.fillStyle=b.fillColor);return c}
function Le(a,b,c,d,e,f,g){var h,k,l;if(d||e)for(void 0===g&&(g=a.length),k=f||0;k<g;k++)if(f=a[k],h=f.length){b.beginPath();b.moveTo(f[0].x,f[0].y);for(l=1;l<h;l++)b.lineTo(f[l].x,f[l].y);c&&(b.closePath(),e&&b.fill());d&&b.stroke()}};var Ne,Oe=function(){function a(){}for(var b,c,d,e=ta("o ms moz webkit "),f=5;f--&&!b;)b=e[f],b=(c=pa[b+(b?"R":"r")+"equestAnimationFrame"])&&!z(c.call(window,a))&&(d=pa[b+(b?"C":"c")+"ancelAnimationFrame"]);Ne=b?function(a){return c.call(pa,a)}:function(a){return pa.setTimeout(a,25)};return b?function(a){return d.call(pa,a)}:function(a){return pa.clearTimeout(a)}}(),Pe=pa.performance&&pa.performance.now?function(){return pa.performance.now()}:function(){return Date.now()};function Qe(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?xa(a):"")+(d.length?" ("+d.join(" ")+")":"")}q("H.lang.OutOfRangeError",Qe);Qe.prototype=Error();Qe.prototype.name="OutOfRangeError";function Re(a,b){var c=this;if(!da(b))throw new y(Se,1,b);if(!da(a.next||da(a.cycle)))throw new y(Re,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.wh=[];this.sh=[];this.pj=a;this.Dj=b;this.Ej=function(){Te(c)};this.tf=null;this.Lh=function(){c.tf||(c.tf=pa.setTimeout(c.Ej,1))}}q("H.util.AsyncQueue",Re);Re.prototype.push=function(a,b){if(!da(b))throw new y(this.push,1,b);var c=Ue(new Ve,a,this.Lh,b);this.wh.push(c);this.Lh();return c};Re.prototype.push=Re.prototype.push;
Re.prototype.Md=function(){Te(this)};function Te(a){var b,c=a.sh,d=0,e=a.pj;e.hg();for(a.tf=null;d<c.length;)b=c[d],b.Og?c.splice(d,1):d++;for(;b=e.next(a.wh,a.sh);)b.cancelled?b.Ya(null,"cancelled"):(c.push(b),a.Dj(b,b.data))}function Ve(){Ue(this,null,null,null)}Re.Task=Ve;function Ue(a,b,c,d){a.data=b;a.cancelled=!1;a.Og=!1;a.vj=c;a.wj=d;a.me=null;return a}Ve.prototype.Ya=function(a,b){this.Og=!0;this.vj();this.wj(this,a,b)};Ve.prototype.done=Ve.prototype.Ya;
Ve.prototype.cancel=function(){this.me&&this.me();this.cancelled=!0};Ve.prototype.cancel=Ve.prototype.cancel;Ve.prototype.Qh=function(a){this.me=a;return this};Ve.prototype.setCancelFn=Ve.prototype.Qh;function We(a,b){We.a.constructor.call(this,new Xe(a),b)}r(We,Re);q("H.util.SequentialQueue",We);function Xe(a){if(isNaN(a)||0>a)throw new y(We,1,'Argument "maxTime" must be a positive number');this.nj=a;this.Rc=Pe()}Xe.prototype.next=function(a){return a.length&&Pe()-this.Rc<this.nj?a.shift():null};Xe.prototype.hg=function(){this.Rc=Pe()};function Ye(a){a=a||{};this.min=a.min||0;this.max=a.max||22;this.uid=""+Pa++;a.getCopyrights&&Ba(a.getCopyrights,"Function",Ye)&&(this.getCopyrights=a.getCopyrights);Ye.a.constructor.call(this)}r(Ye,E);q("H.map.provider.Provider",Ye);Ye.prototype.b={m:"update"};Ye.prototype.S=function(a){this.dispatchEvent(new xc(this.b.m,a))};Ye.prototype.dispatchUpdate=Ye.prototype.S;Ye.prototype.c=function(){E.prototype.c.call(this)};Ye.prototype.pa=function(){return null};Ye.prototype.getCopyrights=Ye.prototype.pa;function R(a,b,c){if(!(0<=a))throw new y(R,0,a);if(b&&!da(b))throw new y(R,1,b);if(c&&!da(c))throw new y(R,2,c);this.We=+a;this.Fa=0;this.kh=b;this.filter=c;this.d={};this.Cc=this.Ob=null}q("H.util.Cache",R);R.prototype.add=function(a,b,c){var d,e;if(c!=+c||0>c)throw new y(this.add,2,c);a=String(a);d=this.d[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.Fa+=c-d.size,d.size=c,d.data=b,Ze(this,d)):this.za(d,!0):e&&(this.d[a]=$e(this,{id:a,data:b,size:c,$b:null,Ma:null},this.Ob));af(this);return e};
R.prototype.add=R.prototype.add;R.prototype.get=function(a,b){var c=b?this.d[a]:Ze(this,this.d[a]);return c&&c.data};R.prototype.get=R.prototype.get;R.prototype.vi=function(a){var b;(b=this.d[a])&&this.za(b,!0)};R.prototype.drop=R.prototype.vi;R.prototype.forEach=function(a,b,c){var d,e;for(e in this.d)d=this.d[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};R.prototype.Na=function(a){var b,c;for(c in this.d)b=this.d[c],(a?a(c,b.data,b.size):1)&&this.za(this.d[c],!0)};
R.prototype.removeAll=R.prototype.Na;R.prototype.Wj=function(a){this.We=a;af(this);return this};R.prototype.setMaxSize=R.prototype.Wj;R.prototype.Ui=function(){return this.We};R.prototype.getMaxSize=R.prototype.Ui;R.prototype.Ji=function(){return this.Fa};R.prototype.getCurrentSize=R.prototype.Ji;function Ze(a,b){b&&(a.Ob=$e(a,b,a.Ob));return b}function af(a){for(;a.Fa>a.We&&a.Cc;)a.za(a.Cc,!0)}
function $e(a,b,c){if(c!==b){(b.$b||b.Ma)&&a.za(b);if(b.$b=c)b.Ma=c.Ma,c.Ma=b;b.Ma||(a.Ob=b);b.$b||(a.Cc=b);a.Fa+=b.size}return b}R.prototype.za=function(a,b){var c=a.Ma,d=a.$b;if(c||d||a==this.Ob&&a==this.Cc)c?c.$b=d:this.Ob=d,d?d.Ma=c:this.Cc=c,this.Fa-=a.size,b&&(this.kh&&this.kh(a.id,a.data,a.size),delete this.d[a.id]);a.$b=a.Ma=null;return a};function bf(a){var b;wa(this,bf);bf.a.constructor.call(this,a);if("tileSize"in a){b=ib(+a.tileSize)/sb;if(isNaN(b)||b%1||0>b||30<b)throw new y(bf,0,"tileSize: "+a.tileSize);this.tileSize=+a.tileSize}}r(bf,Ye);q("H.map.provider.TileProvider",bf);bf.prototype.createTileInternal=bf.prototype.gg;bf.prototype.Eg=function(a,b,c){return this.uid.concat("_",a,"_",b,"_",c)};bf.prototype.getTileKey=bf.prototype.Eg;bf.prototype.tileSize=256;function cf(a,b){cf.a.constructor.call(this,b);this.ya=a;this.wa=b.pixelRatio;this.tileSize*=eb(this.wa);this.qf=s(this.qf,this);this.jf=s(this.jf,this);this.uf=s(this.uf,this);this.pf=s(this.pf,this);this.of=s(this.of,this);this.ya.addEventListener(Ye.prototype.b.m,this.of,!1,this);this.Lb=[];this.Yd=new R(b.tileCacheSize||256,this.qf);this.kd=new R(b.dataCacheSize||512,this.jf);this.Dh=new We(20,this.uf);this.pb={};this.Vg=Pe()}r(cf,bf);q("H.map.provider.SpatialTileProvider",cf);
cf.prototype.of=function(a){a.target.type===vd.SPATIAL&&this.S(a.target)};cf.prototype.ja=function(a,b,c,d){var e=this.getTileKey(a,b,c),f;if(f=this.Yd.get(e,d)){if(d||f.Pe())return f;this.kd.add(e,f,1)}f=this.kd.get(e,d);var g;(g=f)&&!(g=d)&&(g=f,g.ta&&Ie(g),g=g.ta);if(g)return a=this.Lb.pop()||document.createElement("canvas"),f.$(a)||this.Lb.push(a),this.Yd.add(e,f,1),f;d||((f=this.pb[e])?f.count++:(f=this.Dh.push([e,a,b,c],this.pf),f.count=1,this.pb[e]=f))};cf.prototype.requestTile=cf.prototype.ja;
cf.prototype.Md=function(){var a=Pe();33<a-this.Vg&&(this.Dh.Md(),this.Vg=a)};cf.prototype.Ea=function(a,b,c){this.ed(this.getTileKey(a,b,c))};cf.prototype.cancelTile=cf.prototype.Ea;cf.prototype.ed=function(a){var b;if(b=this.pb[a])b.count--,b.count||(b.cancel(),delete this.pb[a])};cf.prototype.cancelTileByKey=cf.prototype.ed;p=cf.prototype;
p.uf=function(a,b){var c=new P(b[0],b[1],b[2],b[3],this.tileSize,this.wa,this.ya),d=this.Lb.pop()||document.createElement("canvas");c.$(d)||this.Lb.push(d);b.push(c);a.Ya(c)};p.pf=function(a,b){var c=a.data[0];b&&this.Yd.add(c,b,1);delete this.pb[c];this.S()};p.qf=function(a,b){b.data&&this.Lb.push(b.zh());this.kd.add(a,b,1)};p.jf=function(a,b){b.Ah()};p.c=function(){for(var a in this.pb)this.pb[a].cancel();this.Yd.Na();this.kd.Na();this.Lb.length=0;cf.a.c.call(this)};function df(a,b){var c=b||{};if(!a)throw new y(ef,0,a);this.S=s(this.S,this);this.k=a;this.k.addEventListener(Ye.prototype.b.m,this.S,!1,this);this.tileSize=a.tileSize;this.Zd={};N.call(this,{min:this.k.min,max:this.k.max,minWorldSize:this.tileSize,projection:c.nk,dark:c.dark})}r(df,N);q("H.map.layer.BaseTileLayer",df);df.prototype.fa=function(){return this.k};df.prototype.getProvider=df.prototype.fa;
df.prototype.md=function(a,b){var c,d=this.pixelProjection,e;if(!u(a,B))throw new y(this.md,0,a);z(b)||(c=d.Gg(),d.D(b));e=ff(d.geoToPixel(a.gb()),d.geoToPixel(a.$a()));!z(c)&&d.D(c);return e};df.prototype.geoRectToRect=df.prototype.md;df.prototype.zc=function(a,b){if(!u(a,Q))throw new y(this.zc,0,a);if(z(b=+b))throw new y(this.zc,1,b);var c=kb(2,fb(b)),d=this.tileSize,e,f;e=fb(a.left/d);e===c&&(e-=1);f=fb(a.right/d);f===c&&(f-=1);return new Q(e,Cb(fb(a.top/d),0,c-1),f,Cb(fb(a.bottom/d),0,c-1))};
df.prototype.getTileBounds=df.prototype.zc;df.prototype.ja=function(a,b,c,d){return this.k.requestTile(a,b,c,d)};df.prototype.Ea=function(a,b,c){this.k.cancelTile(a,b,c)};df.prototype.cancelTile=df.prototype.Ea;df.prototype.pa=function(a,b){return this.k.getCopyrights?this.k.getCopyrights(a,b):null};df.prototype.getCopyrights=df.prototype.pa;
df.prototype.wc=function(a,b,c,d,e){if(!u(a,Q))throw new y(this.wc,0,a);if(z(c=+c))throw new y(this.wc,1,c);var f=fb(c),g=kb(2,f);c=[];var h=0,k={},l=a.left,m=a.top,n=a.right,v=n+(b?g+(n===a.left?0:1):1),x=a.bottom,w;b=[];for(var K=this.k,fa=K.requestTile,n=l+(1+n-l)/2+e.x/this.tileSize-0.5,ya=m+(1+x-m)/2+e.y/this.tileSize-0.5;l<v;){for(m=a.top;m<=x;)e=l%g,k[K.Eg(e,m,f)]=!0,b.push([e,m,f,d,hb(n-l)+hb(ya-m)]),m++,h++;l++}if(h)for(d||b.sort(gf),a=h;a--;)(w=fa.apply(K,b[a]))&&c.push(w);if(!d){for(var Va in this.Zd)this.Zd.hasOwnProperty(Va)&&
this.Zd[Va]&&!k[Va]&&this.k.cancelTileByKey(Va);this.Zd=k}return{total:h,tiles:c}};df.prototype.getProviderTiles=df.prototype.wc;function gf(a,b){return b[4]-a[4]};function hf(a,b){hf.a.constructor.call(this,new jf(a),b)}r(hf,Re);q("H.util.ParallelQueue",hf);function jf(a){if(isNaN(a)||0>a)throw new y(hf,1,'Argument "maxParallel" must be a positive number');this.mj=a}jf.prototype.next=function(a,b){return a.length&&b.length<this.mj?a.shift():null};jf.prototype.hg=function(){};function kf(a,b,c){var d=this;this.Tj=new hf(a||6,function(a){lf(d,a)});this.sc=c||document;this.Ed=s(this.Ed,this);this.Ee=null;b&&(this.Cd=this.rj)}q("H.net.ImageLoader",kf);kf.prototype.load=function(a,b,c,d){if(!a||!ca(a))throw new y(kf.prototype.load,0,a);if(!da(b))throw new y(kf.prototype.load,1,b);if(c&&!da(c))throw new y(kf.prototype.load,2,c);return this.Tj.push({url:a,ag:b,qg:c,crossOrigin:d},this.Ed)};kf.prototype.load=kf.prototype.load;
kf.prototype.Ed=function(a,b,c){b?Na?Za(b)?setTimeout(s(a.data.ag,a.data,b),0):setTimeout(s(this.Ed,this,a,b,c),0):a.data.ag(b):a.data.qg&&a.data.qg(c||"failed")};function lf(a,b){var c=b.data,d;d=a.Cd(function(){var c=d.element;c.ownerDocument!==a.sc&&(d.element=c=a.sc.importNode(c,!0));b.Ya(c,null)},function(a){b.Ya(null,a)});b.Qh(d.cancel);c.crossOrigin&&(d.element.crossOrigin=c.crossOrigin);d.element.src=c.url}
kf.prototype.Cd=function(a,b){var c=this.sc.createElement("img");c.onload=a;c.onerror=b;return{element:c,cancel:function(){c.onerror=c.onload=null;c.removeAttribute("src");b("cancelled")}}};kf.prototype.rj=function(a,b){this.Ee||(this.Ee=new mf(this.sc));return this.Ee.Cd(a,b)};function mf(a){this.frame=a.createElement("iframe");this.frame.style.display="none";this.Hf=[];this.sc=a;a.body.appendChild(this.frame)}
mf.prototype.Cd=function(a,b){var c=this,d=this.Hf.pop()||this.frame.contentDocument.createElement("iframe"),e,f;f=function(a){e.onload=e.onerror=null;c.Hf.push(d);b(a)};d.parentNode||this.frame.contentDocument.body.appendChild(d);e=new d.contentWindow.fk;e.onload=function(){e.onload=e.onerror=null;c.Hf.push(d);a()};e.onerror=f;return{element:e,cancel:function(){d.contentWindow.stop();f("cancelled")}}};var ne=new kf;q("H.net.images",ne);function S(a){wa(this,S);S.a.constructor.call(this,a);this.Y={};this.entryWeight=1;this.cd=this.getCache();this.Kb=s(this.Kb,this)}r(S,bf);q("H.map.provider.RemoteTileProvider",S);var nf=new R(65536);S.cache=nf;S.prototype.zg=function(){return nf};S.prototype.getCache=S.prototype.zg;S.prototype.Kb=function(a){return+ta(a,"_")[0]===+this.uid};S.prototype.cacheFilter=S.prototype.Kb;S.prototype.requestInternal=S.prototype.Od;S.prototype.gg=function(a,b,c,d){return new Fe(a,b,c,d)};
S.prototype.createTileInternal=S.prototype.gg;S.prototype.wi={cancel:function(){}};
S.prototype.ja=function(a,b,c,d){var e=this,f,g,h=this.cd,k=this.Y;if(z(a=+a))throw new y(this.ja,0,a);if(z(b=+b))throw new y(this.ja,0,b);if(z(c=+c))throw new y(this.ja,0,c);c=~~c;f=this.getTileKey(a,b,c);g=h.get(f);g&&g.valid||d||this.Y[f]||(k[f]=this.wi,d=this.requestInternal(a,b,c,function(d,k){delete e.Y[f];g=e.createTileInternal(a,b,c,d,k);g.key=f;h.add(f,g,e.entryWeight);e.S()},function(){delete e.Y[f]}),k[f]&&d&&(k[f]=d));return g};S.prototype.requestTile=S.prototype.ja;
S.prototype.ed=function(a){var b=this.Y[a];b&&(b.cancel(),delete this.Y[a])};S.prototype.cancelTileByKey=S.prototype.ed;S.prototype.Ea=function(a,b,c){this.cancelTileByKey(this.getTileKey(a,b,c))};S.prototype.cancelTile=S.prototype.Ea;S.prototype.reload=function(a){var b;a?this.cd.Na(this.Kb):this.cd.forEach(this.ij,this,this.Kb);for(b in this.Y)this.Y[b].cancel();this.Y={};this.S()};S.prototype.reload=S.prototype.reload;S.prototype.ij=function(a,b){b.valid=!1};
S.prototype.c=function(){var a;this.cd.Na(this.Kb);for(a in this.Y)this.Y[a].cancel(),delete this.Y[a]};function Se(a){if(!a||!da(a.getURL))throw new y(Se,0,"options.getURL");Se.a.constructor.call(this,a);this.cj=a.getURL;this.entryWeight=this.tileSize=a.tileSize||256;this.pi=a.crossOrigin}r(Se,S);q("H.map.provider.ImageTileProvider",Se);Se.prototype.Od=function(a,b,c,d,e){var f=this,g=this.cj(a,b,c),h,k=pa.setTimeout(function(){h=ne.load(g,d,e,f.pi)},150);return{cancel:function(){h?h.cancel():pa.clearTimeout(k)}}};Se.prototype.requestInternal=Se.prototype.Od;function Q(a,b,c,d){this.left=+a;this.top=+b;this.right=+c;this.bottom=+d}q("H.math.Rect",Q);Q.prototype.set=Q;Q.prototype.set=Q.prototype.set;Q.prototype.gb=function(){return this.Uc||(this.Uc=new J(this.left,this.top))};Q.prototype.getTopLeft=Q.prototype.gb;Q.prototype.$a=function(){return this.pc||(this.pc=new J(this.right,this.bottom))};Q.prototype.getBottomRight=Q.prototype.$a;Q.prototype.se=function(a,b){return this.left<=a&&this.right>=a&&this.top<=b&&this.bottom>=b};
Q.prototype.containsXY=Q.prototype.se;function ff(a,b){return new Q(a.x,a.y,b.x,b.y)}Q.fromPoints=ff;Q.prototype.oa=function(){return new Q(this.left,this.top,this.right,this.bottom)};Q.prototype.clone=Q.prototype.oa;function ef(a,b){var c=b||{};this.opacity=c.opacity||1;df.call(this,a,c)}r(ef,df);q("H.map.layer.TileLayer",ef);ef.prototype.Qa=function(a,b,c,d){if(!u(a,B))throw new y(this.Qa,0,a);if(z(b=+b))throw new y(this.Qa,1,b);var e;b=fb(b);this.pixelProjection.D(b);a=this.md(a);e=this.zc(a,b);return this.wc(e,a.left>a.right,b,c,d)};ef.prototype.requestTiles=ef.prototype.Qa;function of(a,b){var c=b||{};c.tileSize=c.tileSize||256;c.pixelRatio=c.pixelRatio||1;this.yb=new cf(a,c);this.zb=new ef(this.yb,{opacity:1});c.minWorldSize=this.yb.tileSize;of.a.constructor.call(this,c);this.opacity=this.zb.opacity;this.tileSize=this.zb.tileSize;this.ya=a;this.Fd=s(this.Fd,this);this.yb.addEventListener(this.yb.b.m,this.Fd);this.ya.addEventListener("update",this.Fd)}r(of,N);q("H.map.layer.ObjectLayer",of);
of.prototype.Fd=function(a){a.currentTarget!==this.yb&&a.target.type===vd.SPATIAL||this.S()};of.prototype.fa=function(){return this.ya};of.prototype.getProvider=of.prototype.fa;var pf={markers:Sa,total:0};of.prototype.wb=function(a,b,c){var d=this.ya,e;return d.providesMarkers()&&(e=d.requestMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:pf};of.prototype.requestMarkers=of.prototype.wb;
of.prototype.vb=function(a,b,c){var d=this.ya,e;return d.providesDomMarkers()&&(e=d.requestDomMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:pf};of.prototype.requestDomMarkers=of.prototype.vb;var qf={tiles:Sa,total:0};of.prototype.Qa=function(a,b,c,d){var e;this.ya.providesSpatials()?(e=this.zb.Qa(a,b,c,d),c||(this.yb.Md(),e=this.zb.Qa(a,b,!0,d))):e=qf;return e};of.prototype.requestTiles=of.prototype.Qa;of.prototype.ja=function(a,b,c,d){return this.zb.ja(a,b,c,d)};of.prototype.requestTile=of.prototype.ja;
of.prototype.Ea=function(a,b,c){this.zb.Ea(a,b,c)};of.prototype.cancelTile=of.prototype.Ea;of.prototype.c=function(){this.yb.g();this.zb.g();this.ya.dispose();of.a.c.call(this)};function T(a,b){var c=b||{},d,e;if(!u(a,Element))throw new y(T,0,a);d=a.ownerDocument.createElement("div");this.u=a;T.a.constructor.call(this);this.padding=new Q(0,0,0,0);this.center=new J(0,0);this.margin=0;this.element=d;d.style.zIndex=0;d.style.height=d.style.width="100%";d.style.position="relative"===a.style.position?"absolute":"relative";this.resize();a.appendChild(d);(e=c.padding)!==t&&this.Df(e.top,e.right,e.bottom,e.left);this.Cf((e=c.margin)!==t?e:0);(e=c.fixedCenter)!==t&&(this.sg=!!e)}
r(T,E);q("H.map.ViewPort",T);T.prototype.b={m:"update",mc:"sync"};T.prototype.sg=!0;T.prototype.Cf=function(a){if(this.margin!==+a){if(z(this.margin=+a))throw new y(this.Cf,0,a);rf(this);this.dispatchEvent(this.b.m)}};T.prototype.setMargin=T.prototype.Cf;T.prototype.Df=function(a,b,c,d){var e=this.padding;if(e.top!==a||e.right!==b||e.bottom!==c||e.left!==d){if(z(a+b+c+d))throw new y(this.Df);e.top=a;e.right=b;e.bottom=c;e.left=d;rf(this);this.dispatchEvent(this.b.m)}};T.prototype.setPadding=T.prototype.Df;
function rf(a){var b=a.padding;a.center.set((a.width+b.left-b.right)/2<<0,(a.height+b.top-b.bottom)/2<<0)}T.prototype.resize=function(){var a=this.u.offsetWidth,b=this.u.offsetHeight;if(this.width!==a||this.height!==b)this.uj=new sf(this.width,this.height),this.width=a,this.height=b,rf(this),this.dispatchEvent(this.b.m)};T.prototype.resize=T.prototype.resize;T.prototype.Xd=function(a){this.dispatchEvent(new oe(this.b.mc,this.uj,a,oe.prototype.SIZE))};
T.prototype.c=function(){pa.clearTimeout(this.oi);this.oi=null;this.u.removeChild(this.element);this.element=this.u=null;T.a.c.call(this)};T.prototype.startInteraction=T.prototype.Ba;T.prototype.interaction=T.prototype.ra;T.prototype.endInteraction=T.prototype.endInteraction;function tf(a){wa(this,tf);tf.a.constructor.call(this,a);a=[];for(var b in vd)a[vd[b]]=new D;this.kb=a}r(tf,Ye);q("H.map.provider.ObjectProvider",tf);tf.prototype.cb=function(a){return this.kb[a||vd.ANY]};tf.prototype.getInvalidations=tf.prototype.cb;tf.prototype.jb=function(a,b){var c,d;b!==oc&&(d=this.kb[vd.ANY],c=d.Hb+1,d.update(c,b),d=this.kb[a.type],d.update(c,b),a.cb().update(c,b),this.S(a))};tf.prototype.invalidateObject=tf.prototype.jb;tf.prototype.wf=Qa;tf.prototype.providesSpatials=tf.prototype.wf;
tf.prototype.requestSpatials=tf.prototype.Fh;tf.prototype.requestSpatialsByTile=tf.prototype.Gh;tf.prototype.vf=Qa;tf.prototype.providesMarkers=tf.prototype.vf;tf.prototype.requestMarkers=tf.prototype.wb;tf.prototype.Jc=Qa;tf.prototype.providesDomMarkers=tf.prototype.Jc;tf.prototype.requestDomMarkers=tf.prototype.vb;function sf(a,b){this.w=+a;this.h=+b}q("H.math.Size",sf);function U(a,b){var c,d;U.a.constructor.call(this);if(b){c="size";if(c in b){d=b[c];if(!d||isNaN(d.w)||isNaN(d.h))throw new y(U,1,c);this.ic=new sf(d.w,d.h)}c="anchor";if(c in b){d=b[c];if(!d||isNaN(d.x)||isNaN(d.y))throw new y(U,1,c);this.nc=new J(d.x,d.y)}c="hitArea";c in b&&(d=b[c],u(d,uf,U,1),this.Me=b[c]);c="asCanvas";c in b&&(d=b[c],this.je=!(d!==t&&!b[c]))}c=a;switch(vf[Ca(c)]){case 2:wf(this,c,!1);this.Da=c;this.R=1;break;case 1:if(Za(c)){wf(this,c,!0);this.Da=this.je?xf(this,c):c;this.R=
1;break}c=c.src;case 0:if(c){c=Oa(c);this.R=0;this.ud=ne.load(c,s(this.yj,this),s(this.xj,this));break}default:throw this.R=-1,new y(U,0,"No image data");}}r(U,E);q("H.map.Icon",U);U.prototype.Vf={ERROR:-1,LOADING:0,READY:1};U.prototype.State=U.prototype.Vf;U.prototype.R=0;U.prototype.getState=function(){return this.R};U.prototype.getState=U.prototype.getState;U.prototype.b={Uf:"statechange"};U.prototype.je=!0;
function xf(a,b){var c=document.createElement("CANVAS");c.getContext("2d").drawImage(b,0,0,c.width=a.ic.w,c.height=a.ic.h);return c}U.prototype.Da=sa;U.prototype.Fi=function(){return this.Da};U.prototype.getBitmap=U.prototype.Fi;var vf={String:0,HTMLImageElement:1,HTMLCanvasElement:2};U.prototype.ic=sa;U.prototype.Ub=function(){return this.ic};U.prototype.getSize=U.prototype.Ub;U.prototype.nc=sa;U.prototype.Bi=function(){return this.nc};U.prototype.getAnchor=U.prototype.Bi;
function wf(a,b,c){var d,e,f,g,h;if(d=a.ic)e=d.w,c=d.h;else{e=b.naturalWidth||b.width;if(0===e&&c&&Na){f=!0;if(g=b.parentNode)h=b.nextSibling;document.body.appendChild(b)}a.ic=new sf(e=b.naturalWidth||b.width,c=b.naturalHeight||b.height);f&&(g?g.insertBefore(b,h):document.body.removeChild(b))}a.nc||(a.nc=new J(e/2|0,c))}U.prototype.Me=sa;U.prototype.Ki=function(){return this.Me};U.prototype.getHitArea=U.prototype.Ki;
U.prototype.yj=function(a){delete this.ud;wf(this,a,!0);this.Da=this.je?xf(this,a):a;this.R=1;this.dispatchEvent(this.b.Uf)};U.prototype.xj=function(){this.R=-1;this.dispatchEvent(this.b.Uf);delete this.ud};U.prototype.c=function(){U.a.c.call(this);this.Da?(this.Da.removeAttribute("src"),delete this.Da):this.ud&&this.ud.cancel()};function G(a){a=a||{};var b=new O({provider:this,min:a.min,max:a.max});G.a.constructor.call(this,a);this.Jh=b;b.Q(this);this.Qc=new jc;this.Hc=new jc;this.ld=new jc}r(G,tf);q("H.map.provider.LocalObjectProvider",G);G.prototype.Tb=function(){return this.Jh};G.prototype.getRootGroup=G.prototype.Tb;G.prototype.jb=function(a,b){b&pc&&this.A(a);G.a.jb.call(this,a,b)};G.prototype.invalidateObject=G.prototype.jb;
G.prototype.A=function(a){var b;u(a,F,this.A,0);if(a.k!==this)throw new zc(this.A,"foreign object");this.L(a);if(u(a,yf))b=a.getPosition(),b=this.Hc.wd(new A(b.lat,b.lng));else if(u(a,zf))b=a.getPosition(),b=this.ld.wd(new A(b.lat,b.lng));else{b=this.Qc;var c=a.o(),d=c.gb(),e=c.$a();b=(c=c.Vb())?b.ib(d.lat,e.lng,e.lat,d.lng,c):b.ib(d.lat,d.lng,e.lat,e.lng,c)}b.Mf=a;a.Lf=b};
G.prototype.L=function(a){var b;if(a)if(a.k!==this){if(u(a,F))throw new zc(this.A,"foreign object");}else if(b=a.Lf)(u(a,yf)?this.Hc:u(a,zf)?this.ld:this.Qc).remove(b),delete b.Mf,delete a.Lf};G.prototype.removeObject=G.prototype.L;
G.prototype.xb=function(a,b,c,d){var e,f,g,h;if(a.Nb){h=a!==this.Hc;d=!d;a=nc(a,b);f=0;b=a.length;for(e=0;e<b;e++){g=a[e].Mf;for(var k=eb(c),l=g,m=void 0;(m=l.gh<=k&&l.fh>=k)&&(l=l.O););m&&(d||g.getVisibility(!0))&&(h||1===g.icon.getState())&&(a[f++]=g)}a.length=f}else a=Sa;return a};G.prototype.wf=function(){return 0<this.Qc.Nb};G.prototype.providesSpatials=G.prototype.wf;G.prototype.Fh=function(a,b,c,d){return this.xb(this.Qc,a,b,c,d)};G.prototype.requestSpatials=G.prototype.Fh;
G.prototype.Gh=function(a,b,c){return this.xb(this.Qc,a.od(),a.z,b,c)};G.prototype.requestSpatialsByTile=G.prototype.Gh;G.prototype.vf=function(){return 0<this.Hc.Nb};G.prototype.providesMarkers=G.prototype.vf;G.prototype.wb=function(a,b,c,d){return this.xb(this.Hc,a,b,c,d)};G.prototype.requestMarkers=G.prototype.wb;G.prototype.Jc=function(){return 0<this.ld.Nb};G.prototype.providesDomMarkers=G.prototype.Jc;G.prototype.vb=function(a,b,c,d){return this.xb(this.ld,a,b,c,d)};
G.prototype.requestDomMarkers=G.prototype.vb;G.prototype.c=function(){this.Jh.Na();G.a.c.call(this)};function Af(a,b,c){this.Dc=a;this.jc=b;this.pg=!(!c||!c.enableSubpixelRendering);this.ownerDocument=b.oe.ownerDocument;this.Ve={}}r(Af,uc);
Af.prototype.$=function(a,b,c,d,e,f){var g,h,k=this.Dc,l,m,n,v=this.pg,x;this.Cj=g=this.Ve;this.Ve=h={};if(d>=k.min&&d<=k.max&&(l=this.rg(a,d,e,f),m=l.markers.sort(Bf),a=m.length))for(d=this.jc,d.setOpacity(k.opacity),k=0;k<a;k++)e=m[k],f=c.geoToPixel(e.getPosition()),n=c.w,f.x-=eb(f.x/n)*n,f.add(b),v||f.round(),(n=g[x=e.qa])?delete g[x]:n={marker:e},h[x]=n,this.renderMarker(n,e,e.icon,d,f.x,f.y);return!l||l.requested&&l.requested===l.total||!l.requested&&m.length===l.total};
function Bf(a,b){return a.gd(b)};function Cf(a,b,c){this.Bd=[];Cf.a.constructor.apply(this,arguments)}r(Cf,Af);p=Cf.prototype;p.rg=function(){return this.Dc.wb.apply(this.Dc,arguments)};p.$=function(){this.Bd=[];return Cf.a.$.apply(this,arguments)};p.renderMarker=function(a,b,c,d,e,f){var g=c.Ub();b=this.pg;var h=g.w,g=g.h,k=c.nc;e-=b?k.x:eb(k.x);f-=b?k.y:eb(k.y);d.Mb(c.Da,e,f,h,g);a.ue?a.ue.set(e,f,e+h,f+g):a.ue=new Q(e,f,e+h,f+g);this.Bd.push(a)};
p.G=function(a,b,c){for(var d=this.Bd,e=d.length,f,g,h,k;e--;)if(f=d[e],g=f.ue,g.se(a,b)&&(f=f.marker,!(h=f.icon.Me)||h.Hg(a-g.left,b-g.top,0)))if(k)k.push(f);else if(k=[f],c)break;return k||Sa};p.c=function(){this.Bd=null;Cf.a.c.call(this)};function V(a,b){if(z(this.x=+a))throw new y(V,0,a);if(z(this.y=+b))throw new y(V,1,b);}q("H.math.Vector",V);V.prototype.add=function(a){return new V(this.x+a.x,this.y+a.y)};V.prototype.add=V.prototype.add;V.prototype.Yj=function(a){return new V(this.x-a.x,this.y-a.y)};V.prototype.subtract=V.prototype.Yj;V.prototype.xe=function(a){if(!u(a,V))throw new y(this.xe,0,a);a=this.multiply(a);return a.x+a.y};V.prototype.dot=V.prototype.xe;
V.prototype.multiply=function(a){if(!u(a,V))throw new y(this.multiply,0,a);return new V(this.x*a.x,this.y*a.y)};V.prototype.multiply=V.prototype.multiply;V.prototype.D=function(a){return new V(this.x*a,this.y*a)};V.prototype.rescale=V.prototype.D;V.prototype.Gc=function(){return jb(this.xe(this))};V.prototype.magnitude=V.prototype.Gc;V.prototype.normalize=function(){var a=this.Gc();return 0!==a?new V(this.x/a,this.y/a):this};V.prototype.normalize=V.prototype.normalize;function Df(a){a=a||{};this.oj=a.minSpeed||3;this.bi=a.vectorTolerance||3;this.eh=a.maxSpeed||300;this.ak=a.timeTolerance||50;this.xa=[];this.Ac=this.Lc=!1;this.qb=this.ba=null}function Ef(a,b){var c,d,e,f;b?(a.bifocal&&b.bifocal?(c=Gf(a),d=Gf(b)):b.bifocal?(c=Hf(a),e=Hf(b).distance(c),f=Hf(b,!0).distance(c),d=e>f?Hf(b,!0):Hf(b)):a.bifocal&&!b.bifocal?(d=Hf(b),e=Hf(a).distance(d),f=Hf(a,!0).distance(d),c=e>f?Hf(a,!0):Hf(a)):(c=a,d=b),e=c.x-d.x,c=c.y-d.y,c=new V(e,c)):c=new V(0,0);return c}
function If(a){var b;if(!a||z(a.bx)||z(a.by))return 0;b=a.bx-a.x;a=a.by-a.y;return jb(b*b+a*a)}function Gf(a){var b,c;!a||z(a.bx)||z(a.by)||(b=a.x-a.bx,c=a.y-a.by,b=new J(a.x-b/2,a.y-c/2));return b}function Hf(a,b){return b?new J(a.bx,a.by):new J(a.x,a.y)}p=Df.prototype;p.start=function(a,b){if(z(a))throw new y(this.start,0,a);this.Lc&&this.clear();this.qj=a;this.Lc=!0;this.Ac=!!b};
p.Yh=function(a,b,c,d,e){var f=z(a)?0:z(b)?1:null!=c&&z(c)?2:null!=d&&z(d)?3:null!=e&&z(e)?4:t;if(0<=f)throw new y(this.Yh,f,arguments[f]);this.Lc&&(e=e||(new Date).getTime(),this.qb=this.ba,this.ba={x:a,y:b,bx:null!=c?c:NaN,by:null!=d?d:NaN,ts:e,bifocal:null!=c&&null!=d},this.Ac&&this.xa.push(this.ba))};p.clear=function(){this.xa=[];this.Ac=this.Lc=!1;this.ba=this.qb=null};p.sd=function(a){if(z(a))throw new y(this.sd,0,a);return!!(this.qj&a)};p.ca=function(){return this.Lc};
p.He=function(){var a=this.xa.length,b=0,c=new V(0,0);if(this.Ac)for(;--a&&b<this.bi;)c=c.add(Ef(this.xa[a],this.xa[a-1])),b++;else c=Ef(this.ba,this.qb);return c.normalize()};p.xc=function(a){a=a||Date.now();var b=this.xa.length,c=this.xa[b-1],d=0,e=0;if(this.Ac){for(;--b&&d<this.bi;)e+=Ef(this.xa[b],this.xa[b-1]).Gc(),d++;b=e/d}else c=this.ba,b=Ef(this.ba,this.qb).Gc();return b=b>=this.oj&&a-c.ts<=this.ak?b>this.eh?this.eh:b:0};
p.yg=function(a){var b;b=this.ba;var c;if(z(a))throw new y(this.yg,0,a);b&&this.qb&&(b=If(this.qb),0!==b&&(c=If(this.ba),a=ib(kb(2,a)*(c/b))/sb));return a};function Jf(){this.bh=91.401472;this.reset()}r(Jf,E);Jf.prototype.start=function(a,b){this.Ja&&this.reset();z(a)||z(b)||(this.atX=a,this.atY=b);this.Ja=!0};Jf.prototype.b={Nf:"animationupdate"};function Kf(a){Kf.a.constructor.call(this,Jf.prototype.b.Nf);this.offset=a}r(Kf,xc);p=Jf.prototype;p.ca=function(){return this.Ja};p.set=function(a,b,c){!this.Ja||this.Ye===a&&this.Ze===b&&this.$e===c||(this.Ye=a,this.Ze=b,this.$e=c,this.dispatchEvent(new Kf(Lf(this))))};
function Lf(a){return{x:a.Ye*a.bh,y:a.Ze*a.bh,z:a.$e}}p.reset=function(){this.Ja=!1;this.atY=this.atX=null;this.$e=this.Ze=this.Ye=0};p.xc=function(){var a=Lf(this);return jb(a.x*a.x+a.y*a.y+a.z*a.z)};p.He=function(){var a=Lf(this),b=this.xc()||1;return{x:a.x/b,y:a.y/b,z:a.z/b}};p.c=function(){this.reset();Jf.a.c.call(this)};function Mf(a,b,c,d){Mf.a.constructor.call(this);this.oe=a;this.t=d;this.element=a.appendChild(this.createElement(a.ownerDocument));Nf(this,b,c)}r(Mf,uc);p=Mf.prototype;p.bb=function(){return this.element};function Nf(a,b,c){a.Uh(a.element,a.element.style,a.width=b,a.height=c,a.t)}p.Ub=function(){return{width:this.width,height:this.height,t:this.t}};p.opacity=1;p.setOpacity=function(a){this.opacity!==a&&(this.Th(a),this.opacity=a)};
p.c=function(){this.clear();this.oe.removeChild(this.element);Nf(this,0,0);this.element=this.oe=null;Mf.a.c.call(this)};function Of(a,b,c,d){Of.a.constructor.apply(this,arguments)}r(Of,Mf);p=Of.prototype;p.createElement=function(a){a=a.createElement("DIV");a.style.position="absolute";return a};p.Uh=function(a,b,c,d){b.width=c+"px";b.height=d+"px"};p.Th=function(a){this.element.style.opacity=a};p.Mb=function(a,b,c){var d=this.t,e=a.style;e.webkitTransform=e.lk=e.mk=e.msTransform=e.transform="matrix("+[1,0,0,1,b/d,c/d].join()+")";a.parentNode!==this.element&&(e.position="absolute",this.element.appendChild(a))};
p.clear=function(a){a?this.element.removeChild(a):this.element.innerHTML=""};var Pf={zoom:{min:-8,max:22},camera:{alt:{min:0,max:0},pitch:{min:0,max:0},roll:{min:0,max:0},yaw:{min:0,max:0},fov:{min:70,max:70}},interaction:{ZOOM:1,ek:16},capture:!0};q("H.map.render.p2d.capabilities",Pf);function Qf(a,b,c){if(!a)throw new y(Qf,0,a);if(!b)throw new y(Qf,1,b);this.$g=a;this.Ca=b;this.ph={};this.ze=c&&c.enableSubpixelRendering}
Qf.prototype.$=function(a,b,c,d,e,f){var g=eb(d),h=this.$g,k=g+(c.exp-h.pixelProjection.exp),l=h.max;d=h.tileSize;var m=h.opacity,n,v=this.Ca,x=v.opacity;n=v.Ub().width;var w=c.w,K=c.x,fa=c.y,ya={};if(g<h.min||g>l)return!0;e=h.Qa(a,k,e,f);a=e.total;e=e.tiles;f=e.length;this.Fj=c;this.Uj=b;this.Jf=k;x!==m&&v.setOpacity(m);c=d=d*w/(kb(2,k)*d);this.ze||(d%1&&(d=fb(d),w=c/d,K/=w,fa/=w,w=kb(2,k)*d),K=fb(K),fa=fb(fa));this.Pj=c;k=-d;g=n+d;for(h=0;h<f;h++){n=e[h];if(l=n.data){c=b.x-(K-n.x*d);m=b.y-(fa-n.y*
d);v.Mb(l,c,m,d,d);for(x=c;(x-=w)>k;)v.Mb(l,x,m,d,d);for(x=c;(x+=w)<g;)v.Mb(l,x,m,d,d)}ya[this.Jf+"_"+n.x+"_"+n.y]=n}this.ph=ya;return f===a};Qf.prototype.G=function(a,b,c){if(this.Jf!==t){var d=this.Pj,e=d/this.$g.tileSize,f=this.Fj,g=this.Uj,h,k;a=f.x+(a-g.x);b=f.y+(b-g.y);h=fb(f.w/d);var l=f=fb(a/d),g=fb(b/d);hb(l)>=h&&(l%=h);0>l&&(l=h+l);(h=this.ph[this.Jf+"_"+l+"_"+g])&&h.G&&(k=h.G((a-d*f)/e,(b-d*g)/e,c))}return k||Sa};q("H.util.animation.ease.LINEAR",function(a){return a});q("H.util.animation.ease.EASE_IN_QUAD",function(a){return a*a});function Rf(a){return-a*(a-2)}q("H.util.animation.ease.EASE_OUT_QUAD",Rf);q("H.util.animation.ease.EASE_IN_OUT_QUINT",function(a){a*=2;return 1>a?kb(a,5)/2:(a-=2,kb(a,5)/2+1)});q("H.util.animation.ease.EASE_OUT_CIRC",function(a){return jb(2*a-a*a)});function Sf(a,b){if(z(this.ie=+a))throw new y(Sf,0,a);this.Td=this.ye=0;b&&this.Sh(b)}q("H.util.kinetics.KineticMove",Sf);Sf.prototype.Sh=function(a){this.Td=a;this.ye=this.Cg();return this};Sf.prototype.setInitialSpeed=Sf.prototype.Sh;Sf.prototype.Cg=function(){return Math.abs(this.Td/this.ie)};Sf.prototype.getDuration=Sf.prototype.Cg;Sf.prototype.Ge=function(a){return this.Td+this.ie*a};Sf.prototype.getCurrentSpeed=Sf.prototype.Ge;Sf.prototype.Ii=function(a){return this.Td*a+this.ie*a*a/2};
Sf.prototype.getCurrentPath=Sf.prototype.Ii;function Tf(a,b,c,d){if(!da(this.bk=a))throw new y(Tf,0,a);if(z(this.ye=+b))throw new y(Tf,1,b);if(!da(this.ih=c)&&null!=c)throw new y(Tf,2,c);if(!da(this.ng=d)&&null!=d)throw new y(Tf,3,d);this.id=Pa++;this.Ja=!1}q("H.util.animation.Animation",Tf);Tf.prototype.start=function(){var a=this,b,c=Ne,d;d=function(){var e=Pe(),f=e-a.Rc,g=f/a.ye,g=1<g?1:g;a.ng&&(g=a.ng(g));a.bk(g,f,e-b,e);b=e;1<=g?a.stop():a.$f=c(d)};a.Rc=Pe();b=a.Rc;a.Ja=!0;a.$f=c(d)};Tf.prototype.start=Tf.prototype.start;
Tf.prototype.stop=function(a){Oe(this.$f);this.Ja=!1;a||this.ih&&this.ih(this)};Tf.prototype.stop=Tf.prototype.stop;Tf.prototype.ca=function(){return this.Ja};Tf.prototype.isRunning=Tf.prototype.ca;function Uf(a,b,c,d){var e=new Q(0,0,0,0);Uf.a.constructor.call(this);this.t=d.pixelRatio;this.Vc={1:e.oa(),2:e.oa(),4:e.oa()};this.da=a;if(!a)throw new y(Uf,0,a);Vf(this);a.addEventListener(a.b.m,this.bc,!1,this);this.Ba=s(this.Ba,this);this.ra=s(this.ra,this);this.endInteraction=s(this.endInteraction,this);a.startInteraction=this.Ba;a.interaction=this.ra;a.endInteraction=this.endInteraction;this.Bb=b;if(!b)throw new y(Uf,1,b);this.Aa=s(this.Aa,this);this.control=s(this.control,this);this.endControl=
s(this.endControl,this);b.startControl=this.Aa;b.control=this.control;b.endControl=this.endControl;b.addEventListener(b.b.m,this.Gd,!1,this);this.rc=c;if(!c)throw new y(Uf,2,c);}r(Uf,E);q("H.map.render.RenderEngine",Uf);Uf.prototype.getBBox=Uf.prototype.Ga;
function Vf(a){var b=a.da,c=b.width,d=b.height,e=b.padding,f=e.top,g=e.left,h=e.bottom,e=e.right,b=b.margin,k=-(c+g-e)/2<<0,l=-(d+f-h)/2<<0,c=c+k,d=d+l,m=a.Vc;a=a.t;m[1].set((k-b)*a,(l-b)*a,(c+b)*a,(d+b)*a);m[2].set(k*a,l*a,c*a,d*a);m[4].set((k+g)*a,(l+f)*a,(c-e)*a,(d-h)*a)}Uf.prototype.bc=function(){Vf(this)};
Uf.prototype.c=function(){var a=this.Bb,b=this.da;a.removeEventListener(a.b.m,this.Gd,!1,this);a.startControl===this.Aa&&(a.startControl=L.prototype.Aa);a.control===this.control&&(a.control=L.prototype.control);a.endControl===this.endControl&&(a.endControl=L.prototype.endControl);b.removeEventListener(b.b.m,this.bc,!1,this);b.startInteraction===this.Ba&&(b.startInteraction=T.prototype.Ba);b.interaction===this.ra&&(b.interaction=T.prototype.ra);b.endInteraction===this.endInteraction&&(b.endInteraction=
T.prototype.endInteraction)};Uf.prototype.getCamForBounds=Uf.prototype.Rb;Uf.prototype.N=function(){return null};Uf.prototype.setPointer=Uf.prototype.setPointer;function Wf(a,b){a.style.transition="opacity 1.5s";a.addEventListener("transitionend",function(){b()},!1);a.style.opacity=0}var Xf={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};Uf.InteractionModifiers=Xf;Uf.prototype.b={Tf:"render"};var Yf={P2D:0,PANORAMA:1};Uf.EngineType=Yf;function Zf(a,b,c,d){Zf.a.constructor.apply(this,arguments);this.Xa=this.element.getContext("2d")}r(Zf,Mf);p=Zf.prototype;p.createElement=function(a){a=a.createElement("CANVAS");var b=a.style;b.position="absolute";b.top=b.left=0;return a};p.Uh=function(a,b,c,d,e){a.width=db(c,1);a.height=db(d,1);b.width=eb(c/e)+"px";b.height=eb(d/e)+"px"};p.Th=function(a){this.Xa.globalAlpha=a};p.Mb=function(a,b,c,d,e){this.Xa.drawImage(a,b,c,d,e)};
p.clear=function(a){var b,c;a?this.Xa.clearRect(b=a.left,c=a.top,a.right-b,a.bottom-c):this.element.width=this.width};p.c=function(){this.element.width=this.element.height=0;Zf.a.c.call(this)};function $f(a,b,c){$f.a.constructor.apply(this,arguments);this.Ue=0;this.wa=b.Ub().t;this.ac=[];this.De=s(this.De,this)}r($f,Af);p=$f.prototype;p.rg=function(){return this.Dc.vb.apply(this.Dc,arguments)};p.$=function(){var a;this.De();this.tj=0;a=$f.a.$.apply(this,arguments);var b=this.jc,c=this.Cj,d;for(d in c)ag(this,b,c[d]);return 0===this.ac.length&&a};p.De=function(){for(var a=this.ac.length,b,c,d;a--;)d=this.ac[a],b=d.Yc,c=d.Yc.icon,c.hf(d,c,b);this.ac.length=0};
p.renderMarker=function(a,b,c,d,e,f){var g=b.cb(),h;a.detail&&(g.Bc(a.hj)?ag(this,d,a):h=a.detail);h||(a.detail=h=c.Fe(b,this.ownerDocument),this.Ue++,da(c.hf)&&this.ac.push(h));a.hj=g.Hb;h.style.zIndex=this.tj++;h.Yc=b;d.Mb(h,e,f,0,0)};
p.G=function(a,b,c){var d=this.wa,e,f,g,h,k,l,m;if(this.Ue){a/=d;b/=d;d=this.ownerDocument;e=d.documentElement;f=this.jc.bb();g=f.getBoundingClientRect();a+=g.left;for(b+=g.top;(l=g=d.elementFromPoint(a,b))&&l!==f&&l!==e;){for(;(m=l.parentNode)&&(!da(m.contains)||!m.contains(f));)l=m;if(m===f&&(l!==g||"svg"!==l.nodeName)&&((h||(h=[])).push(l.Yc),c))break;k||(k=[]);g=l.style;k.push({jg:g.getPropertyValue("display"),ui:g.getPropertyPriority("display"),style:g});g.setProperty("display","none","important")}if(k)for(b=
k.length;b--;)a=k[b],a.style.removeProperty("display"),ca(a.jg)&&a.style.setProperty("display",a.jg,a.ui)}return h||Sa};function ag(a,b,c){b.clear(b=c.detail);delete b.Yc;a.Ue--;c=(a=c.marker).icon;c.lf&&c.lf(b,c,a)}p.c=function(){this.ac.length=0;var a=this.jc,b=this.Ve,c;for(c in b)ag(this,a,b[c]);this.jc.g();$f.a.c.call(this)};function W(a,b,c,d){var e;W.a.constructor.call(this,a,b,c,d);this.rb=new J(0,0);if(e=d.renderBaseBackground)this.Mj=e.lower,this.Lj=e.higher;this.ze=!!d.enableSubpixelRendering;this.Zj=1E3;this.Wg=this.l=0;this.Kf=this.Tg=!1;this.ha=new J(0.5,0.5);this.ia=ib(this.t)/sb;this.J=new Df;this.B=d=new Jf;this.gf=s(this.gf,this);d.addEventListener(d.b.Nf,this.gf);this.i=new ve;d=a.element;this.Ec=a=d.ownerDocument.createElement("div");a.style.position="absolute";a.style.width=a.style.height="100%";a.style.zIndex=
0;d.insertBefore(a,d.firstChild);this.Ca=new Zf(this.Ec,1,1,this.t);a=this.rc.oc();d=0;e=a.length;var f;this.Pb=[];this.Pb.length=e;this.fc=[];this.fc.length=e;this.Ra=[];this.Ra.length=e;for(this.Zb=a;d<e;d++)f=a[d],bg(this,d,f,1),0===d&&cg(this,f,!0);dg(this);c.addEventListener("update",this.jh,!1,this);c.addEventListener(c.b.Db,this.mf,!1,this);c.addEventListener(c.b.Eb,this.nf,!1,this);c.addEventListener(c.b.ad,this.mh,!1,this);this.Af=s(W.prototype.Af,this);this.R=eg;this.wg=[];this.Mh=[];this.lg=
[];this.Hh();this.l=fg(this,this.Bb.getZoom()+this.ia);dg(this);gg(this,b.ab().position,this.l);this.M();this.bc()}r(W,Uf);q("H.map.render.p2d.RenderEngine",W);W.prototype.type=Yf.P2D;W.prototype.type=W.prototype.type;var eg=2;W.prototype.qc=Pf;W.prototype.getState=function(){return this.R};W.prototype.getState=W.prototype.getState;function hg(a,b,c){b=c-b;return hb(b)<a.i.w/2?b:b-a.i.w*c/hb(c)}
W.prototype.Gd=function(a){var b=this,c,d,e=a.requested,f=e.animate,e=e.camera.position,g=b.i.geoToPixel(e),h=g.x,k=g.y,l=this.l,m=this.ha,n=0,v,x,w;ig(this);this.rb.set(0,0);a=jg(this,a);c=a.zoom;w=a.position;if(f){if(d=c-l,v={x:m.x,y:m.y},f=this.i.cc(v).x,x=this.i.projection.Qb(e),x.x!==this.ha.x||x.x!==this.ha.x||c!==this.l)h=hg(this,f,h),kg(this,function(a){var e=a-n,f;c!==l&&(g=b.i.cc(x),f=b.i.cc(v),h=hg(b,f.x,g.x),k=g.y-f.y);n=a;lg(b,h*e,k*e);l+=d*e;mg(b,l);b.M();ng(b)},this.Zc,function(){gg(b,
w,c);mg(b,c);b.M(w);ng(b)},this.$c)}else og(this),gg(this,w,c),mg(this,c),this.M(w);ng(this)};W.prototype.Zc=300;W.prototype.Nh=function(a){var b=Ea(a);if(!b||b&&0>a)throw new y(this.Nh,1,"positive number required");this.Zc=a};W.prototype.setAnimationDuration=W.prototype.Nh;W.prototype.Ci=function(){return this.Zc};W.prototype.getAnimationDuration=W.prototype.Ci;W.prototype.$c=Rf;W.prototype.Oh=function(a){if(!da(a))throw new y(this.Oh,1,"function required");this.$c=a};
W.prototype.setAnimationEase=W.prototype.Oh;W.prototype.Di=function(){return this.$c};W.prototype.getAnimationEase=W.prototype.Di;W.prototype.Hh=function(){this.$c=Rf;this.Zc=300};W.prototype.resetAnimationDefaults=W.prototype.Hh;p=W.prototype;p.jh=function(){ng(this)};p.mf=function(a){var b=a.added;a=a.idx;bg(this,a,b);0===a&&(dg(this),cg(this,b,!0));pg(this);ng(this)};
p.nf=function(a,b){var c=a.removed,d=a.idx,e;this.Sg=Pe();(e=this.Pb.splice(d,1)[0])&&e.g&&e.g();(e=this.fc.splice(d,1)[0])&&e.g&&e.g();(e=this.Ra.splice(d,1)[0])&&e.g&&e.g();this.Zb=this.rc.oc();0===d&&(cg(this,c,!1),dg(this));pg(this);b||ng(this)};p.mh=function(a){this.nf(a,!0);this.mf(a)};function cg(a,b,c){c=c?b.addEventListener:b.removeEventListener;c.call(b,b.b.Rf,a.nh,!1,a);c.call(b,b.b.Qf,a.nh,!1,a)}p.nh=function(){dg(this);ng(this)};
function bg(a,b,c,d){var e,f,g,h;c&&(h={enableSubpixelRendering:a.ze},c.requestTiles&&(e=new Qf(c,a.Ca,h)),c.requestMarkers&&(f=new Cf(c,a.Ca,h)),c.requestDomMarkers&&(g=qg(a),g=new $f(c,new Of(a.Ec,g.w,g.h,a.t),h)));d=d||0;a.Pb.splice(b,d,e);a.fc.splice(b,d,f);a.Ra.splice(b,d,g);a.Zb=a.rc.oc()}function dg(a){var b;if(0<a.Zb.length)b=a.Zb[0].max,a.Zg=a.Zb[0].min,a.Yg=b;else{b=a.qc.zoom;var c=b.max;a.Zg=b.min;a.Yg=c}b=rg(a,a.l);b!==a.l&&(a.l=b,a.i.D(b),a.M())}
function jg(a,b){var c=b.requested,d,e;e=(d=c.camera)&&d.position;d=rg(a,rg(a,c.zoom)+a.ia);e=sg({position:new A(e.lat,e.lng)});a.l=c.animate?a.l:d;e.zoom=d;return e}function gg(a,b,c){var d=a.i;d.D(c);a.ha=d.projection.Qb(b);d.x=d.w*a.ha.x;d.y=d.h*a.ha.y}function rg(a,b){var c=a.qc.zoom;return Cb(b,db(c.min,a.Zg),cb(c.max,a.Yg))}function sg(a){a.yaw=a.pitch=a.roll=0;a.fov=70;return a}p.Sa=function(a,b){var c=this.da.center,d=this.t;return this.i.ea((a-c.x)*d,(b-c.y)*d)};W.prototype.screenToGeo=W.prototype.Sa;
W.prototype.setPointer=Ra;W.prototype.setPointer=W.prototype.setPointer;W.prototype.gc=function(a,b){var c=this.Sa(a,b),d=this.Bb.ab();d.position=c;return d};W.prototype.screenToCameraData=W.prototype.gc;W.prototype.Za=function(a){var b=this.t,c=this.da.center,d=c.x*b,c=c.y*b;a=this.i.geoToPixel(a);var e=this.i.w;return new J(eb((a.x-eb(a.x/e)*e+d)/b),eb((a.y+c)/b))};W.prototype.geoToScreen=W.prototype.Za;
W.prototype.Ga=function(a,b){var c=this.Vc[a||4],d=this.i,e=c.left-b,f=d.ea(e,c.top-b),g=c.right+b,c=d.ea(g,c.bottom+b);g-e>=d.w&&(f.lng=-(c.lng=180));return Sb(f,c)};W.prototype.getBBox=W.prototype.Ga;W.prototype.G=function(a,b,c){var d=[],e=this.t,f=this.Pb,g=this.fc,h=this.Ra;a*=e;b*=e;d=tg(d,h,a,b,c);if(c&&d.length)return d;d=tg(d,g,a,b,c);return c&&d.length?d:tg(d,f,a,b,c)};W.prototype.getObjectsAt=W.prototype.G;
function tg(a,b,c,d,e){for(var f=b.length,g;f--&&!((g=b[f])&&g.G&&(a=a.concat(g.G(c,d,e)),a.length&&e)););return a}W.prototype.Wd=sa;function qg(a){a=a.Vc[2];return{w:a.right-a.left,h:a.bottom-a.top}}
W.prototype.bc=function(){var a=this.Vc,b=this.Ca.Ub(),c,d,e;this.da.sg||(d=a[2].oa());W.a.bc.call(this);c=qg(this);this.rb.set(0,0);e=c.w;c=c.h;if(b.width!==e||b.height!==c){Nf(this.Ca,e,c);for(var b=this.Ra.length,f;b--;)if(f=this.Ra[b])f=f.jc,Nf(f,e,c);this.Wd=new sf(e,c)}d&&(a=a[2],lg(this,d.left-a.left,d.top-a.top),this.M());ng(this)};W.prototype.vc=function(){return Pf};W.prototype.getCapabilities=W.prototype.vc;
function ug(a){Pe()-a.Sg<a.Zj&&!a.Pa?a.zi=Ne(a.Af):(a.Pa&&(pg(a),vg(a)),a.R=eg)}function pg(a){a.wg.length=0;a.Mh.length=0;a.lg.length=0}
W.prototype.Af=function(){var a=this.Pb,b=this.fc,c=this.Ra,d=this.da.center.oa().scale(this.t),e=this.Ga(1,0),f=this.Ga(1,256),g=this.l,h=g-this.ia,k,l,m,n=this.i;k=this.Mj;var v=this.Lj,x=a[0],w=this.rb;this.Ca.clear();if(x){if(k)for(;k;)l=g-k,x.$(e,d,n,l,!0,w),k-=1;if(v&&this.Kf)for(m=1;m<=v&&(l=g+m,n.D(l),k=this.Ga(2,0),n.D(g),!x.$(k,d,n,l,!0,w));m++);}a=wg(this,a,this.wg,e,d,g,w);b=wg(this,b,this.Mh,f,d,h,w);c=wg(this,c,this.lg,f,d,h,w);this.Pa=a&&b&&c;this.Vd&&(this.Bb.Xd(this.Vd),this.Vd=null);
this.Wd&&(this.da.Xd(this.Wd),this.Wd=sa);g<this.Wg?this.Kf=!0:this.Tg&&(this.Kf=!1);this.Wg=g;this.Tg=a;ug(this)};function wg(a,b,c,d,e,f,g){for(var h=b.length,k=a.Zb,l,m=!!h,n=0,n=0;n<h;n++)b[n]&&((l=b[n].$(d,e,a.i,f,!1,g))&&!c[n]&&(vg(a,k[n]),c[n]=!0),c[n]||(m=!1));return m}function vg(a,b){a.dispatchEvent({type:a.b.Tf,target:b||a})}
W.prototype.c=function(){var a=this.rc,b=this.rc.oc()[0],c=this.da,d=this.Pb,e=this.fc,f=this.Ra;Oe(this.zi);og(this,!0);a.removeEventListener("update",this.jh,!1,this);a.removeEventListener(a.b.Db,this.mf,!1,this);a.removeEventListener(a.b.Eb,this.nf,!1,this);a.removeEventListener(a.b.ad,this.mh,!1,this);b&&cg(this,b,!1);this.Ca.g();for(a=d.length;a--;)fe(d[a]);for(a=e.length;a--;)fe(e[a]);for(a=f.length;a--;)fe(f[a]);c.element&&c.element.removeChild(this.Ec);this.Ec=null;this.R=3;W.a.c.call(this)};
function ng(a){a.Sg=Pe();a.R===eg&&(a.Pa=!1,a.R=1,ug(a))}function xg(a){return sg({position:a.i.projection.Kd(a.ha)})}W.prototype.M=function(a){var b=xg(this);a&&(b.position=a);this.Vd=b;this.Vd.zoom=this.l-this.ia};function yg(a,b,c){lg(a,b*a.t,c*a.t);a.rb.set(0,0);a.M();ng(a)}function lg(a,b,c){var d=a.i;a=a.ha;d.x=Bb(d.x+b,d.w);d.y=db(0,cb(d.w,d.y+c));a.x=d.x/d.w;a.y=d.y/d.h}W.prototype.Xc=function(a,b,c){a=rg(this,rg(this,a)+this.ia);mg(this,a,b,c)};W.prototype.zoomAt=W.prototype.Xc;
function mg(a,b,c,d){var e=a.t,f=a.da.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.rb.set(c,d),lg(a,c,d),a.i.D(b),lg(a,-c,-d)):(a.rb.set(0,0),a.i.D(b));a.l=b;a.M();ng(a)}
W.prototype.Rb=function(a,b){var c=this.vc().zoom.max,d=a.T(),e,f,g,h,k;a.Pg()||(e=new ve(this.i.projection),e.D(c),f=e.geoToPixel(a.gb()).round(),g=e.geoToPixel(a.$a()).round(),c=e.w,a.Vb()&&(f.x-=c),b?(h=e.geoToPixel(d),k=2*db(h.x-f.x,g.x-h.x),h=2*db(h.y-f.y,g.y-h.y)):(k=g.x-f.x,h=g.y-f.y,d=e.pixelToGeo(f.add(g).scale(0.5))),f=this.Vc[4],e=f.right-f.left,f=f.bottom-f.top,c=-8+cb(ib(e/k*c)/sb,ib(f/h*c)/sb)-this.ia);return{zoom:rg(this,c),position:d}};W.prototype.getCamForBounds=W.prototype.Rb;
function ig(a){og(a,!0);a.B.ca()&&a.endControl(!0);a.J.ca()&&a.endInteraction(!0);og(a,!0)}W.prototype.Ba=function(a,b){ig(this);this.ga=b;this.J.start(a,!!b)};W.prototype.startInteraction=W.prototype.Ba;function fg(a,b){return rg(a,rg(a,b-a.ia)+a.ia)}
W.prototype.ra=function(a,b,c,d,e){var f=!1;this.J.ca()&&(this.J.Yh(a,b,c,d,e),this.J.sd(Xf.COORD)&&(e=this.J,e=Ef(e.ba,e.qb),0<e.Gc()&&(yg(this,-e.x,-e.y),f=!0)),this.J.sd(Xf.ZOOM)&&a===+a&&b===+b&&c===+c&&d===+d&&(b=Gf(this.J.ba),a=this.J.yg(this.l),a!==this.l&&(a=fg(this,a),mg(this,a,b.x,b.y),f=!0)),f&&ng(this))};W.prototype.interaction=W.prototype.ra;
W.prototype.endInteraction=function(a){var b=this,c,d,e,f;this.J.ca()&&!a&&(this.ga&&(a=this.J.xc(),e=this.J.He(),f=this.ga.duration,c=(this.ga.Bj||1)*a,d=new Sf(-(c/f),c),!z(e.x)&&!z(e.y)&&0<c&&b.J.sd(Xf.COORD)&&kg(this,function(a){c=d.Ge(a*f);z(c)||yg(b,eb(-e.x*c),eb(-e.y*c))},f,void 0,this.ga.xi)),this.ga=null,this.J.clear())};W.prototype.endInteraction=W.prototype.endInteraction;W.prototype.Aa=function(a,b,c){ig(this);this.B.start(b,c);this.ga=a};W.prototype.startControl=W.prototype.Aa;
W.prototype.control=function(a,b,c,d,e,f,g){if(z(c=+g||+c))throw new y(this.control,2,c);if(z(a))throw new y(this.control,0,a);if(z(b))throw new y(this.control,2,b);this.B.ca()&&this.B.set(a,b,c)};W.prototype.control=W.prototype.control;
W.prototype.endControl=function(a,b){var c=this,d,e,f,g,h,k,l,m;this.B.ca()&&(og(this,!0),e=Pe(),d=e-this.eg,1<=d&&(f=Lf(this.B),zg(this,f,d)),!this.ga||a||b?"function"===typeof b&&(d={camera:xg(this),zoom:this.l-this.ia},b(d),d.zoom+=this.ia,Ag(this,d)):(d=this.B.xc(),k=this.B.He(),l=this.ga.duration,g=(this.ga.Bj||1)*d,h=new Sf(-(g/l),g),!z(k.x)&&!z(k.y)&&0<g&&kg(this,function(a,b,d,f){e&&(d=f-e,e=0);g=h.Ge(a*l)*d;z(g)||((m=k.z*g)&&mg(c,fg(c,c.l+m),c.B.atX,c.B.atY),yg(c,eb(k.x*g),eb(k.y*g)))},l,
void 0,this.ga.xi)),this.B.reset())};W.prototype.endControl=W.prototype.endControl;
function Ag(a,b){var c=a.ha,d=a.i.projection.Qb(b.camera.position),e=a.i.cc(d),f=e.y,e=e.x,g=b.zoom,h=a.i.cc(c),c=h.y,k=h.x,h=a.l,l=a.B.xc(),m=a.B.atX,n=a.B.atY,v=0,x,w,e=hg(a,k,e),e=e-k,f=f-c,h=g-h,c=jb(e*e+f*f+h*h);0!==l&&0!==c&&(w={x:e/c,y:f/c,z:h/c},x=l*l/(2*c),kg(a,function(b,c){var e,f,h;if(1!==b){e=l*c-x*c*c/2;f=e-v;if(h=w.z*f)h=fg(a,a.l+h),mg(a,fg(a,h),m,n);yg(a,eb(w.x*f),eb(w.y*f));v=e}else a.ha=d,mg(a,fg(a,g),m,n),a.M(),ng(a)},2*c/l))}
W.prototype.gf=function(a){var b=this,c=a.offset;this.rb.set(0,0);c.x||c.y||c.z?(this.eg=Pe(),kg(this,function(a,e,f,g){b.eg=g;zg(b,c,f)},Number.POSITIVE_INFINITY)):og(this,!0)};function zg(a,b,c){c=c||0;b.z&&mg(a,fg(a,a.l+b.z*c),a.B.atX,a.B.atY);yg(a,b.x*c,b.y*c)}function kg(a,b,c,d,e){a.Ua&&a.Ua.ca()&&a.Ua.stop(!0);a.Ua=new Tf(b,c,d,e);a.Ua.start()}function og(a,b){a.Ua&&a.Ua.ca()&&a.Ua.stop(b)}W.prototype.enter=Ra;W.prototype.enter=W.prototype.enter;
W.prototype.exit=function(a){var b=this.Bb.ab();this.Gd({requested:{camera:b,zoom:b.zoom,animate:!0}});Wf(this.Ec,a)};W.prototype.exit=W.prototype.exit;W.prototype.N=function(a,b,c,d){var e=this.Ca.bb(),f=e.ownerDocument.createElement("canvas"),g=f.getContext("2d"),h=this.t;f.width=(c-a)*h;f.height=(d-b)*h;g.drawImage(e,-a*h,-b*h);return f};function X(){this.d=[];X.a.constructor.call(this)}r(X,E);q("H.util.OList",X);function Bg(a,b,c){a=a.d.length;var d;if(c)d=a;else if(z(d=0>(d=+b)?db(0,a+d):cb(a,d)))throw new Qe(X,b,[0,a-1]);return d}X.prototype.add=function(a,b){var c=Bg(this,b,z(b));this.d.splice(c,0,a);this.dispatchEvent(new Cg(this,this.b.Db,c,a,null,null))};X.prototype.add=X.prototype.add;X.prototype.za=function(a){var b=this.d.splice(a,1)[0];this.dispatchEvent(new Cg(this,this.b.Eb,a,null,b,null));return b};
X.prototype.dc=function(a){this.get(a);return this.za(a)};X.prototype.removeAt=X.prototype.dc;X.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.za(a),!0):!1};X.prototype.remove=X.prototype.remove;X.prototype.set=function(a,b){var c=this.get(a);a=Bg(this,a,!1);c=this.d[a];this.d[a]=b;this.dispatchEvent(new Cg(this,this.b.ad,a,b,c,null));return c};X.prototype.set=X.prototype.set;X.prototype.indexOf=function(a){return this.d.indexOf(a)};X.prototype.indexOf=X.prototype.indexOf;
X.prototype.get=function(a){a=Bg(this,a,!1);if((a=Bg(this,a,!1))>=this.d.length)throw new Qe(this.get,a,[0,this.d.length-1]);return this.d[a]};X.prototype.get=X.prototype.get;X.prototype.Si=function(){return this.d.length};X.prototype.getLength=X.prototype.Si;X.prototype.oc=function(){return[].concat(this.d)};X.prototype.asArray=X.prototype.oc;X.prototype.flush=function(){for(var a=this.d.length;a--;)this.za(a)};X.prototype.flush=X.prototype.flush;X.prototype.c=function(){this.flush();X.a.c.call(this)};
X.prototype.b={Db:"add",Eb:"remove",ad:"set",hk:"move"};function Cg(a,b,c,d,e,f){Cg.a.constructor.call(this,b,a);this.idx=c;this.added=d;this.removed=e;this.moved=f}r(Cg,xc);function Dg(a){Dg.a.constructor.call(this);this.dispatchEvent=s(this.dispatchEvent,this);if(a)for(var b=0,c=a.length;b<c;b++)this.add(a[b])}r(Dg,X);q("H.map.DataModel",Dg);Dg.prototype.add=function(a,b){u(a,N,this.add,0);Dg.a.add.call(this,a,b);a.addEventListener(a.b.m,this.dispatchEvent,!1)};Dg.prototype.add=Dg.prototype.add;
Dg.prototype.set=function(a,b){var c;u(b,N,this.set,0);c=Dg.a.set.call(this,a,b);b.addEventListener(b.b.m,this.dispatchEvent,!1);c.removeEventListener(c.b.m,this.dispatchEvent,!1);return c};Dg.prototype.set=Dg.prototype.set;Dg.prototype.dc=function(a){var b;(b=Dg.a.dc.call(this,a))&&b.removeEventListener(b.b.m,this.dispatchEvent,!1);return b};Dg.prototype.removeAt=Dg.prototype.dc;
Dg.prototype.remove=function(a){var b;(b=Dg.a.remove.call(this,a))&&a.removeEventListener(a.b.m,this.dispatchEvent,!1);return b};Dg.prototype.remove=Dg.prototype.remove;Dg.prototype.flush=function(){for(var a=this.d.length;a--;)this.dc(a);Dg.a.flush.call(this)};Dg.prototype.flush=Dg.prototype.flush;function Y(a,b,c){Y.a.constructor.call(this);this.Ae=s(Y.prototype.Ae,this);this.X=Eg(c,Y);this.ma=c=new L;this.Ad=!1;c.addEventListener(c.b.mc,this.oh,!1,this);if(!u(a,Element))throw new y(Y,0,a);c=this.u=a.ownerDocument.createElement("div");var d=c.style;d.position="relative";d.height=c.style.width="100%";d.overflow="hidden";d.webkitTapHighlightColor="transparent";"transparent"!==d.webkitTapHighlightColor&&(d.webkitTapHighlightColor="rgba(0,0,0,0)");a.appendChild(c);this.Cb=new T(this.u,this.X);
this.Cb.addEventListener(this.Cb.b.mc,this.oh,!1,this);a=this.f=new Dg(this.X.layers);a.addEventListener(a.b.ad,this.kf,!1,this);a.addEventListener(a.b.Db,this.kf,!1,this);a.addEventListener(a.b.Eb,this.kf,!1,this);this.Fc=new G;this.df=new of(this.Fc,this.X);this.Wf(this.df);this.Ib=null;this.f.add(b,0);this.v=this.te(this.X.engineType||Fg.P2D,this.X);b=this.X.center||new A(0,0);a=+this.X.zoom||0;c=this.X.bounds;this.Dd=s(this.Dd,this);this.ve=s(this.ve,this);u(c,B)?this.Gf(c):(this.Nc(b),this.setZoom(a));
b=this.X.imprint;if(b!==t&&"object"!==typeof b)throw new y(Y,1,"imprint");this.Ia=null===b?b:new ge(this,b);b=this.X.autoColor;this.ke=b===t||!!b;Gg(this)}r(Y,E);q("H.Map",Y);function Eg(a,b){var c;if(a)if(c=a.pixelRatio,c===t)a.pixelRatio=1;else{if(!(0<c))throw new y(b,0,"pixelRatio: "+c);}else a={pixelRatio:1};a.renderBaseBackground||(a.renderBaseBackground={lower:3,higher:2});return a}Y.prototype.ki=333;
Y.prototype.c=function(){this.ke=!1;this.Ia&&this.Ia.g();this.df.g();this.Fc.g();this.f.g();this.ma.g();this.Cb.g();this.v.g();Wa(this.u);this.u=null;E.prototype.c.call(this)};Y.prototype.bb=function(){return this.u};Y.prototype.getElement=Y.prototype.bb;function Gg(a){a.Ia&&a.ke&&a.Ia.Sd({invert:a.Ib.qi})}
Y.prototype.kf=function(a){var b=a.added,c=a.removed;b&&da(b.fa)&&b.fa().Q(this);c&&da(c.fa)&&c.fa().Q(null);0===a.idx&&(this.dispatchEvent(new yc(this.b.ii,this.Ib=a.type!==this.f.b.Eb?b:0<this.f.d.length?this.f.get(0):sa,a.type!==this.f.b.Db?c:1<this.f.d.length?this.f.get(1):sa)),Gg(this))};Y.prototype.oh=function(a){a.modifiers&&(this.Ad||(Hg(this,"start"),this.Ad=!0),Hg(this,"",a));this.Ad&&(this.dh&&pa.clearTimeout(this.dh),this.dh=pa.setTimeout(this.ve,this.ki))};
function Hg(a,b,c){a.dispatchEvent(c?new oe(a.b.Of,c.newValue,c.oldValue,c.modifiers):a.b.Of+b)}Y.prototype.ve=function(){Hg(this,"end");this.Ad=!1};Y.prototype.Nc=function(a,b){this.ma.Mc({animate:!!b,position:a});return this};Y.prototype.setCenter=Y.prototype.Nc;Y.prototype.T=function(){return(this.ma.ab()||{}).position};Y.prototype.getCenter=Y.prototype.T;Y.prototype.setZoom=function(a,b){this.ma.setZoom(a,!!b);return this};Y.prototype.setZoom=Y.prototype.setZoom;Y.prototype.getZoom=function(){return this.ma.getZoom()};
Y.prototype.getZoom=Y.prototype.getZoom;Y.prototype.Xc=function(a,b,c){this.v.Xc(a,b,c)};Y.prototype.zoomAt=Y.prototype.Xc;Y.prototype.Gf=function(a,b){if(!u(a,B))throw new y(this.Gf,0,a);var c=this.v.Rb(a,!1);c.zoom=fb(c.zoom);c.animate=b;this.ma.Mc(c);return this};Y.prototype.setViewBounds=Y.prototype.Gf;Y.prototype.Fg=function(){return this.v.Ga(4,0)};Y.prototype.getViewBounds=Y.prototype.Fg;Y.prototype.Ag=function(a){if(!u(a,B))throw new y(this.Ag,0,a);return this.v.Rb(a,!0)};
Y.prototype.getCameraDataForBounds=Y.prototype.Ag;Y.prototype.ej=function(){return this.Cb};Y.prototype.getViewPort=Y.prototype.ej;Y.prototype.dj=function(){return this.ma};Y.prototype.getViewModel=Y.prototype.dj;Y.prototype.Qi=function(){return this.f};Y.prototype.getLayers=Y.prototype.Qi;Y.prototype.Oi=function(){return this.Ia};Y.prototype.getImprint=Y.prototype.Oi;
Y.prototype.N=function(a,b,c,d,e,f){function g(a,b){fa?a.cancel():(n.save(),b.capture(m,x,function(){n.restore();a.Ya()},function(b){a.Ya(null,b);h(null)}))}function h(b){fa||(fa=!0,a(b))}var k=this.Ie(),l=k.vc(),m,n,v=this.Ia,x=this.X.pixelRatio,w;b=b||[];var K=this.Cb,fa=!1,ya,Va;if(!da(a))throw new y(this.N,0,a);c=c||0;d=d||0;e=e||K.width;f=f||K.height;ya=db(0,cb(c,e));Va=db(0,cb(d,f));c=cb(K.width,db(c,e));d=cb(K.height,db(d,f));l.capture?(m=k.N(ya,Va,c,d),n=m.getContext("2d"),m.style.width=m.width/
x+"px",m.style.height=m.height/x+"px",w=new We(10,g),b.filter(function(a){return da(a.capture)}).forEach(function(a){w.push(a,Ra)}),w.push(v,h.bind(this,m)),w.Md()):a(null)};Y.prototype.capture=Y.prototype.N;Y.prototype.Ie=function(){return this.nb||this.v};Y.prototype.getEngine=Y.prototype.Ie;Y.prototype.Rh=function(a){this.v.type===a||this.Jg||(this.Jg=!0,this.nb=this.te(a),this.nb.addEventListener("render",this.Dd));return this};Y.prototype.setEngineType=Y.prototype.Rh;
Y.prototype.Dd=function(a){a.target===this.nb&&(this.nb.removeEventListener("render",this.Dd),this.nb.enter(),this.v.exit(this.Ae))};Y.prototype.Ae=function(){var a=this.v.type;this.v.g();this.v=this.nb;this.nb=t;this.Jg=!1;this.dispatchEvent(new yc(this.b.ji,this.v.type,a))};
Y.prototype.te=function(a,b){var c=b?Eg(b,this.te):this.X;if(a===Fg.PANORAMA)return this.Ia&&this.ke&&this.Ia.Sd({invert:!0}),new pa.H.map.render.panorama.RenderEngine(this.Cb,this.ma,this.f,c);if(a===Fg.P2D)return Gg(this),new W(this.Cb,this.ma,this.f,c);throw new y(this.Rh,0,a);};Y.prototype.Wf=function(a,b){-1===this.f.indexOf(a)&&this.f.add(a,z(b)?this.f.d.length-1:b);return this};Y.prototype.addLayer=Y.prototype.Wf;
Y.prototype.Jj=function(a){var b=this.f.indexOf(a);a!==this.Ib&&a!==this.df&&-1!==b&&this.f.dc(b);return this};Y.prototype.removeLayer=Y.prototype.Jj;Y.prototype.Vj=function(a){this.Ib!==a&&(this.f.set(0,a),this.Ib=a);return this};Y.prototype.setBaseLayer=Y.prototype.Vj;Y.prototype.Ei=function(){return this.Ib};Y.prototype.getBaseLayer=Y.prototype.Ei;Y.prototype.Za=function(a){if(!Mb(a))throw new y(this.Za,0,a);return this.v.Za(a)};Y.prototype.geoToScreen=Y.prototype.Za;
Y.prototype.Sa=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Sa,c-1,arguments[c-1]);return this.v.Sa(a,b)};Y.prototype.screenToGeo=Y.prototype.Sa;Y.prototype.gc=function(a,b){return this.v.gc(a,b)};Y.prototype.screenToCameraData=Y.prototype.gc;Y.prototype.A=function(a){if(!u(a,F))throw new y(this.A,0,a);this.Fc.Tb().A(a);return a};Y.prototype.addObject=Y.prototype.A;Y.prototype.L=function(a){if(!u(a,F))throw new y(this.L,0,a);this.Fc.Tb().L(a);return a};Y.prototype.removeObject=Y.prototype.L;
Y.prototype.eb=function(){return this.Fc.Tb().eb(!0)};Y.prototype.getObjects=Y.prototype.eb;Y.prototype.Fb=function(a){var b,c;if(!Aa(a))throw new y(this.Fb,0,a);b=a.length;for(c=0;c<b;c++)this.A(a[c]);return this};Y.prototype.addObjects=Y.prototype.Fb;Y.prototype.ec=function(a){if(!u(a,O)&&!Aa(a))throw new y(this.ec,0,a);a.forEach(this.L,this);return this};Y.prototype.removeObjects=Y.prototype.ec;
Y.prototype.Je=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Je,c-1,arguments[c-1]);return this.v.G(a,b,!0)[0]||sa};Y.prototype.getObjectAt=Y.prototype.Je;Y.prototype.G=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Je,c-1,arguments[c-1]);return this.v.G(a,b,!1)};Y.prototype.getObjectsAt=Y.prototype.G;var le=0,Fg={P2D:le,PANORAMA:1};Y.EngineType=Fg;Y.prototype.b={gk:"mapviewchangestart",Of:"mapviewchange",Pf:"mapviewchangeend",ii:"baselayerchange",ji:"enginechange"};function Ig(a,b,c){function d(){var a=l.ob.bind(l),b=+k.timeout||0;Jg?(Kg(l,"timeout",a),e.timeout=b):b&&(l.fi=setTimeout(function(){e.abort();l.ob({type:"timeout"})},b));Kg(l,"error",a);Kg(l,"load",a);e.send(k.data)}var e,f,g,h=c&&c.headers||{},k={},l=this;if(!da(b))throw new y(Ig,1,"function required");a+="";oa(h,Lg.headers,h);oa(k,Lg,c||{});k.headers=h;this.bg=b;this.ka=e=new XMLHttpRequest;b=k.method;try{e.open(b,a,!0);for(f in k.headers)(g=k.headers[f])&&e.setRequestHeader(f,g);e.withCredentials=
!!k.withCredentials;d()}catch(m){if(Mg)this.ob({type:"cors"});else{this.ka=e=new XDomainRequest;try{e.open(b,a),d()}catch(n){this.ob({type:"cors"})}}}}q("H.net.Xhr",Ig);var Lg={method:"GET",headers:{},data:null},Mg="withCredentials"in new XMLHttpRequest,Jg="timeout"in new XMLHttpRequest;function Kg(a,b,c){Mg?a.ka.addEventListener(b,c):a.ka["on"+b]=c}function Ng(a,b,c){Mg?a.ka.removeEventListener(b,c):a.ka["on"+b]=null}Ig.prototype.abort=function(){this.ka&&(this.ka.abort(),this.ka&&this.ob({type:"abort"}))};
Ig.prototype.abort=Ig.prototype.abort;Ig.prototype.ob=function(a){a=a.type;var b=this.ka,c,d;this.fi&&clearTimeout(this.fi);"load"===a?b instanceof XMLHttpRequest&&200!==b.status?d="network":c=b.responseText:d=4===b.readyState&&0===b.status&&"error"==a?"cors":"error"!=a?a:"network";a=this.ob;Ng(this,"timeout",a);Ng(this,"error",a);Ng(this,"load",a);a=this.bg;delete this.ob;delete this.bg;delete this.ka;a(c,d)};function Z(a,b,c){Z.a.constructor.call(this,null,c);this.Nc(a);this.Ff(b);c&&"precision"in c&&this.Ef(c.precision)}r(Z,I);q("H.map.Circle",Z);Z.prototype.Nc=function(a){(a=Nb(a)).F(this.Wa)||(this.Wa=a,Z.a.q.call(this,null))};Z.prototype.setCenter=Z.prototype.Nc;Z.prototype.T=function(){return this.Wa};Z.prototype.getCenter=Z.prototype.T;Z.prototype.Ff=function(a){if(z(a=Cb(a,0,6371000.79*tb/2)))throw new y(this.Ff,0,a);this.zf!==a&&(this.zf=a,Z.a.q.call(this,null))};Z.prototype.setRadius=Z.prototype.Ff;
Z.prototype.Zi=function(){return this.zf};Z.prototype.getRadius=Z.prototype.Zi;Z.prototype.Ld=60;Z.prototype.Ef=function(a){if(!Ea(a))throw new y(this.Ef,0,a);this.Ld!==(a=Cb(eb(a),4,360))&&(this.Ld=a,Z.a.q.call(this,null))};Z.prototype.setPrecision=Z.prototype.Ef;Z.prototype.Yi=function(){return this.Ld};Z.prototype.getPrecision=Z.prototype.Yi;Z.prototype.Pc=function(){return this};Z.prototype.setNorthPoleCovering=Z.prototype.Pc;Z.prototype.q=function(){return this};Z.prototype.setStrip=Z.prototype.q;
Z.prototype.Ha=function(){return this.la||Z.a.q.call(this,this.Ke()).la};Z.prototype.getStrip=Z.prototype.Ha;Z.prototype.Ke=function(){var a=this.Wa,b=a.lat,c=this.zf,d=0,e=new C;this.Wb=0<b;if(90===hb(b))for(b=a.If(0,c,!0).lat;360>d;d+=120)e.xf(b,d-180,t);else for(b=this.Ld,b=360/b;360>d;d+=b)e.yf(a.If(d,c,!0));return e};function Og(a,b){var c,d=a;if(!u(d,Element)){Pg.innerHTML=d;d=Pg.firstElementChild;if(!d)throw new y(Og,0,"No element data");Pg.removeChild(d);c=!0;Pg.innerHTML=""}this.pe=0!==Ta(d).length;this.og=c?d:Ua(d,pa.document,this.pe);b&&(c="onAttach",c in b&&Ba(d=b[c],"Function",Og,1,c)&&(this.hf=d),c="onDetach",c in b&&Ba(d=b[c],"Function",Og,1,c)&&(this.lf=d))}q("H.map.DomIcon",Og);var Pg=document.createElement("DIV");Og.prototype.hf=null;Og.prototype.lf=null;
Og.prototype.Fe=function(a,b){return Ua(this.og,b,this.pe)};Og.prototype.pe=!1;function uf(a,b){var c,d,e,f,g,h,k;f=a;e=[Qg.RECT,Qg.CIRCLE,Qg.POLYGON];b=[].concat(b);c=d=b.length;if(-1===e.indexOf(f))throw new y(uf,0,a);if(!b)throw new y(uf,1,b);for(;d--;)if(z(b[d]))throw new y(uf,1,b);f===Qg.RECT&&3<c&&(b=[b[0],b[1],b[2],b[1],b[2],b[3],b[0],b[3]],f=Qg.POLYGON);if(f===Qg.CIRCLE&&2<c&&(e=b[2],0<e)){f=b[0];g=b[1];d=cb(2*gb(e),40);h=360/d;for(b=[];d--;)k=h*d*yb,b.push(f+mb(k)*e,g+ob(k)*e);f=Qg.POLYGON}if(f!==Qg.POLYGON||!c||b.length%2)throw new y(uf,1,b);this.Aj=b}
q("H.map.HitArea",uf);uf.prototype.Hg=function(a,b,c){return Fb(a,b,this.Aj,c,!0)};uf.prototype.hitTest=uf.prototype.Hg;var Qg={RECT:0,CIRCLE:1,POLYGON:2};uf.ShapeType=Qg;function Rg(a,b){var c;wa(this,Rg);Rg.a.constructor.call(this,b);this.setPosition(a);b&&"icon"in b&&(c=b.icon);this.Oc(c||Sg(this))}r(Rg,F);q("H.map.AbstractMarker",Rg);Rg.prototype.gd=function(a){var b,c,d=this.lc-a.lc;d||(d=xd(b=wd(this),c=wd(a),!0)||a.getPosition().lat-this.getPosition().lat||xd(b,c,!1));return d};Rg.prototype.getPosition=function(){return this.qh};Rg.prototype.getPosition=Rg.prototype.getPosition;
Rg.prototype.setPosition=function(a){var b=this.qh,c=!b;if(c||!b.F(a))Mb(a,c?Rg:this.setPosition,0),this.qh=Nb(a),c||this.p(pc);return this};Rg.prototype.setPosition=Rg.prototype.setPosition;Rg.prototype.Mi=function(){return this.icon};Rg.prototype.getIcon=Rg.prototype.Mi;Rg.prototype.Oc=function(a){var b=this.icon,c=!b;if(b!==a){if(!u(a,this.Ig))throw y.apply(b=new y,c?[this.constructor,1,"icon"]:[this.setPosition,0,a]),b;this.icon=a;c||this.p(qc)}return this};Rg.prototype.setIcon=Rg.prototype.Oc;
function Sg(a){var b=a.si;b||(b=a.constructor.prototype.si=a.fg(Tg));return b}
var Tg={$h:'<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',size:new sf(28,
36),anchor:new J(14,32),hitArea:new uf(2,[0,16,0,7,8,0,18,0,26,7,26,16,18,34,8,34])};function zf(a,b){zf.a.constructor.call(this,a,b)}r(zf,Rg);q("H.map.DomMarker",zf);zf.prototype.type=vd.DOM_MARKER;zf.prototype.lc=2;zf.prototype.fg=function(a){var b=new Og(a.$h,a);a=a.anchor;b.og.style.margin=-a.y+"px 0 0 -"+a.x+"px";return b};zf.prototype.Ig=Og;function yf(a,b){yf.a.constructor.call(this,a,b)}r(yf,Rg);q("H.map.Marker",yf);p=yf.prototype;p.type=vd.MARKER;p.lc=1;p.p=function(a){var b;if(a!==qc||1===this.rh||1===this.icon.getState())b=yf.a.p.call(this,a);return b||!1};p.rh=0;p.Ig=U;p.Qe=!1;p.lh=function(){this.p(qc)};
p.Oc=function(a){var b=this.icon;this.Qe&&(b.removeEventListener("statechange",this.lh,!1,this),delete this.Qe);b&&(this.rh=b.getState());yf.a.Oc.call(this,a);0===a.getState()&&(this.Qe=!0,pe(a,"statechange",this.lh,!1,this));return this};yf.prototype.setIcon=yf.prototype.Oc;yf.prototype.fg=function(a){return new U(a.$h,a)};function Ug(a){if(!a||!da(a.requestData))throw new y(Ug,0,"options.requestData");Ug.a.constructor.call(this,a);this.Sj=a.requestData;this.Gj=!!a.providesDomMarkers||!1}r(Ug,S);q("H.map.provider.MarkerTileProvider",Ug);Ug.prototype.Od=function(a,b,c,d,e){var f=this;return this.Sj(a,b,c,function(e){for(var h=[],k,l,m=e.length;m--;)l=e[m],l.$j=f.getTileKey(a,b,c),l.Q(f),k=l.icon,(u(l,zf)||k.getState()===k.Vf.READY)&&h.push(e[m]);d(h)},e)};Ug.prototype.requestInternal=Ug.prototype.Od;
Ug.prototype.jb=function(a,b){var c;b!==oc&&((c=this.zg().get(a.$j))&&(c.valid=!1),this.S())};Ug.prototype.invalidateObject=Ug.prototype.jb;Ug.prototype.Jc=function(){return this.Gj};Ug.prototype.providesDomMarkers=Ug.prototype.Jc;function Vg(a,b){Vg.a.constructor.call(this,a,b)}r(Vg,df);q("H.map.layer.MarkerTileLayer",Vg);var Wg={markers:[],total:0,requested:0};function Xg(a,b,c,d,e){var f;f=fb(c);a.pixelProjection.D(f);b=a.md(b);f=a.zc(b,f);c=a.wc(f,f.left>f.right,~~c,d,e);a=c.tiles;c=c.total;d=a.length;e=[];var g;for(g=0;g<d;g++)for(f=a[g],b=f.data.length;b--;)e.push(f.data[b]);return{markers:e,total:a.length,requested:c}}Vg.prototype.wb=function(a,b,c,d){return this.k.providesDomMarkers()?Wg:Xg(this,a,b,c,d)};
Vg.prototype.requestMarkers=Vg.prototype.wb;Vg.prototype.vb=function(a,b,c,d){return this.k.providesDomMarkers()?Xg(this,a,b,c,d):Wg};Vg.prototype.requestDomMarkers=Vg.prototype.vb;var H=pa.H||{};q("H.buildInfo",function(){return de("mapsjs-core","0.7.0","45482b93ceacb2ec7e52a7cd78694f89b0558679")});
;this['mapsjs'] = H;}());